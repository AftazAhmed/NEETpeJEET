<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NEET Biology Questions - Section Wise</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        h1 {
            text-align: center;
            color: #333;
            margin-bottom: 30px;
            font-size: 2.5em;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .dropdown-container {
            display: flex;
            gap: 20px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .dropdown-group {
            display: flex;
            flex-direction: column;
            min-width: 250px;
        }
        
        label {
            font-weight: bold;
            color: #333;
            margin-bottom: 8px;
            font-size: 14px;
        }
        
        select {
            padding: 12px 15px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 16px;
            background: white;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        select:hover, select:focus {
            border-color: #667eea;
            outline: none;
            box-shadow: 0 0 10px rgba(102, 126, 234, 0.3);
        }
        
        select:disabled {
            background-color: #f8f9fa;
            color: #6c757d;
            cursor: not-allowed;
        }
        
        .content-area {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            display: none;
        }
        
        .section-info {
            background: white;
            padding: 20px;
            border-radius: 8px;
            margin-bottom: 20px;
            border-left: 4px solid #667eea;
        }
        
        .question-container {
            background: white;
            padding: 20px;
            margin: 15px 0;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            border-left: 4px solid #28a745;
        }
        
        .question-year {
            background: #667eea;
            color: white;
            padding: 5px 10px;
            border-radius: 15px;
            font-size: 12px;
            font-weight: bold;
            display: inline-block;
            margin-bottom: 10px;
        }
        
        .question-text {
            font-size: 16px;
            line-height: 1.6;
            margin-bottom: 15px;
        }
        
        .options {
            margin: 15px 0;
        }
        
        .option {
            padding: 8px 0;
            font-size: 14px;
        }
        
        .answer-section {
            margin-top: 15px;
            display: flex;
            gap: 12px;
            align-items: flex-start;
            flex-wrap: wrap;
        }
        
        .answer-area {
            background: #d4edda;
            padding: 15px;
            border-radius: 5px;
            border: 1px solid #c3e6cb;
            display: none;
            flex: 1;
            min-width: 200px;
        }
        
        .buttons-area {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .btn {
            padding: 10px 20px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 6px;
            min-width: 140px;
        }
        
        .btn-answer {
            background: #28a745;
            color: white;
        }
        
        .btn-answer:hover {
            background: #218838;
            transform: translateY(-1px);
        }

        .btn-copy {
            background: #ffc107;
            color: #212529;
            border: 1px solid #ffc107;
        }

        .btn-copy:hover {
            background: #ffcd39;
            transform: translateY(-1px);
        }

        .btn-copy:disabled {
            opacity: 0.6;
            cursor: not-allowed;
            transform: none;
        }
        
        .copy-icon {
            font-size: 12px;
        }
        
        .instruction-text {
            font-size: 12px;
            color: #6c757d;
            text-align: center;
            margin-top: 10px;
            font-style: italic;
            line-height: 1.4;
            background: #f8f9fa;
            padding: 8px 12px;
            border-radius: 4px;
            border: 1px solid #e9ecef;
        }
        
        .no-questions {
            text-align: center;
            color: #666;
            font-style: italic;
            padding: 40px;
            background: white;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .chapter-note {
            font-size: 12px;
            color: #666;
            margin-top: 6px;
        }

        @media (max-width: 768px) {
            .answer-section {
                flex-direction: column;
            }
            
            .answer-area {
                min-width: 100%;
            }
            
            .buttons-area {
                width: 100%;
                flex-direction: row;
                justify-content: center;
            }
            
            .btn {
                flex: 1;
                min-width: 120px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>NEET Biology Questions - Section Wise Analysis</h1>
        
        <div class="dropdown-container">
            <div class="dropdown-group">
                <label for="class-select">Select Class:</label>
                <select id="class-select">
                    <option value="">Select Class</option>
                    <option value="11">Class 11</option>
                    <option value="12">Class 12</option>
                </select>
                <div class="chapter-note" id="edition-note" style="display:none;">
                    Edition aligned to NCERT Reprint 2025â€“26 (March 2024), official Contents page mapping.
                </div>
            </div>
            
            <div class="dropdown-group">
                <label for="chapter-select">Select Chapter:</label>
                <select id="chapter-select" disabled>
                    <option value="">Select Chapter</option>
                </select>
            </div>
            
            <div class="dropdown-group">
                <label for="section-select">Select Section/Page:</label>
                <select id="section-select" disabled>
                    <option value="">Select Section/Page</option>
                </select>
            </div>
        </div>
        
        <div id="content-area" class="content-area">
            <!-- Questions will be loaded here -->
        </div>
    </div>

    <script>
        // Chapter data with sections/pages for NCERT textbook (Reprint 2025â€“26)
        const chaptersData = {
            "11": [
                { 
                    id: "ch1", 
                    name: "Chapter 1: The Living World", 
                    sections: [
                        { id: "intro", name: "1.0 Introduction (Pg.3)" },
                        { id: "diversity", name: "1.1 Diversity in the Living World (Pg.3)" },
                        { id: "taxonomic", name: "1.2 Taxonomic Categories (Pg.6)" },
                        { id: "species", name: "1.2.1 Species (Pg.6)" },
                        { id: "genus", name: "1.2.2 Genus (Pg.7)" },
                        { id: "family", name: "1.2.3 Family (Pg.7)" },
                        { id: "order", name: "1.2.4 Order (Pg.7)" },
                        { id: "class", name: "1.2.5 Class (Pg.7)" },
                        { id: "phylum", name: "1.2.6 Phylum (Pg.7)" },
                        { id: "kingdom", name: "1.2.7 Kingdom (Pg.8)" }
                    ]
                },
                { 
                    id: "ch2", 
                    name: "Chapter 2: Biological Classification", 
                    sections: [
                        { id: "intro", name: "2.0 Introduction (Pg.10)" },
                        { id: "five_kingdom", name: "2.1 Five Kingdom Classification (Pg.11)" },
                        { id: "monera", name: "2.2 Kingdom Monera (Pg.12)" },
                        { id: "archaebacteria", name: "2.2.1 Archaebacteria (Pg.13)" },
                        { id: "eubacteria", name: "2.2.2 Eubacteria (Pg.13)" },
                        { id: "protista", name: "2.3 Kingdom Protista (Pg.14)" },
                        { id: "chrysophytes", name: "2.3.1 Chrysophytes (Pg.14)" },
                        { id: "dinoflagellates", name: "2.3.2 Dinoflagellates (Pg.15)" },
                        { id: "euglenoids", name: "2.3.3 Euglenoids (Pg.15)" },
                        { id: "slime_moulds", name: "2.3.4 Slime Moulds (Pg.15)" },
                        { id: "protozoans", name: "2.3.5 Protozoans (Pg.15)" },
                        { id: "fungi", name: "2.4 Kingdom Fungi (Pg.16)" },
                        { id: "plantae", name: "2.5 Kingdom Plantae (Pg.19)" },
                        { id: "animalia", name: "2.6 Kingdom Animalia (Pg.19)" },
                        { id: "viruses", name: "2.7 Viruses, Viroids, Prions, Lichens (Pg.19)" }
                    ]
                }
            ],
            "12": [
                { 
                    id: "ch1", 
                    name: "Chapter 1: Sexual Reproduction in Flowering Plants", 
                    sections: [
                        { id: "intro", name: "1.0 Introduction (Pg.3)" },
                        { id: "flower", name: "1.1 Flower - A Fascinating Organ (Pg.3)" },
                        { id: "microsporogenesis", name: "1.2 Microsporogenesis (Pg.6)" },
                        { id: "megasporogenesis", name: "1.3 Megasporogenesis (Pg.8)" },
                        { id: "pollination", name: "1.4 Pollination (Pg.10)" },
                        { id: "fertilization", name: "1.5 Double Fertilization (Pg.15)" },
                        { id: "embryogenesis", name: "1.6 Embryogenesis (Pg.18)" },
                        { id: "seed", name: "1.7 Seed Development (Pg.20)" },
                        { id: "fruit", name: "1.8 Fruit and Seed Dispersal (Pg.22)" }
                    ]
                }
            ]
        };

        // Questions data - section-wise alignment
        const questionsData = {
            "11": {
                "ch1": {
                    "intro": {
                        questions: [
                            {
                                year: "NEET 2011",
                                question: "Which aspect is an exclusive characteristic of living things?",
                                options: [
                                    "(a) Isolated metabolic reactions in vitro",
                                    "(b) Increase in mass from inside only",
                                    "(c) Perception of environmental events and memory",
                                    "(d) Increase in mass by accumulation"
                                ],
                                answer: "(c) Perception of environmental events and memory"
                            },
                            {
                                year: "NEET 2019",
                                question: "The most obvious and complicated feature of all living organisms is:",
                                options: [
                                    "(a) Reproduction",
                                    "(b) Metabolism",
                                    "(c) Growth",
                                    "(d) Self-consciousness"
                                ],
                                answer: "(d) Self-consciousness"
                            }
                        ]
                    },
                    "diversity": {
                        questions: [
                            {
                                year: "NEET 2020",
                                question: "Biodiversity of a habitat is depicted by:",
                                options: [
                                    "(a) Number of individuals of a species",
                                    "(b) Number of species in a habitat",
                                    "(c) Number of individuals per species in a habitat",
                                    "(d) Both (b) and (c)"
                                ],
                                answer: "(d) Both (b) and (c)"
                            }
                        ]
                    },
                    "taxonomic": {
                        questions: [
                            {
                                year: "NEET 2018",
                                question: "Taxonomic hierarchy refers to:",
                                options: [
                                    "(a) Step-wise arrangement of categories for classification",
                                    "(b) Group of senior taxonomists who decide nomenclature",
                                    "(c) List of botanists and zoologists",
                                    "(d) Classification of species based on fossil record"
                                ],
                                answer: "(a) Step-wise arrangement of categories for classification"
                            }
                        ]
                    },
                    "species": {
                        questions: [
                            {
                                year: "NEET 2021",
                                question: "Which of the following taxonomic categories contains organisms most similar to one another?",
                                options: [
                                    "(a) Class",
                                    "(b) Genus", 
                                    "(c) Family",
                                    "(d) Species"
                                ],
                                answer: "(d) Species"
                            }
                        ]
                    },
                    "genus": {
                        questions: [
                            {
                                year: "NEET 2013",
                                question: "The common characteristics between tomato and potato will be maximum at the level of their:",
                                options: [
                                    "(a) Division",
                                    "(b) Class",
                                    "(c) Family",
                                    "(d) Genus"
                                ],
                                answer: "(d) Genus"
                            }
                        ]
                    },
                    "family": {
                        questions: [
                            {
                                year: "NEET 2019",
                                question: "While classifying plants, the suffix '-aceae' is used for:",
                                options: [
                                    "(a) Order",
                                    "(b) Family",
                                    "(c) Class",
                                    "(d) Genus"
                                ],
                                answer: "(b) Family"
                            }
                        ]
                    },
                    "order": {
                        questions: [
                            {
                                year: "NEET 2017",
                                question: "While classifying plants, the suffix '-ales' is used for:",
                                options: [
                                    "(a) Family",
                                    "(b) Order",
                                    "(c) Class",
                                    "(d) Division"
                                ],
                                answer: "(b) Order"
                            }
                        ]
                    },
                    "class": {
                        questions: [
                            {
                                year: "NEET 2020",
                                question: "Which of the following taxonomic categories contains organisms least similar to one another?",
                                options: [
                                    "(a) Class",
                                    "(b) Genus",
                                    "(c) Family",
                                    "(d) Species"
                                ],
                                answer: "(a) Class"
                            }
                        ]
                    },
                    "phylum": {
                        questions: [
                            {
                                year: "NEET 2022",
                                question: "There are _____ phyla in Kingdom Animalia:",
                                options: [
                                    "(a) 25",
                                    "(b) 30",
                                    "(c) 35",
                                    "(d) 40"
                                ],
                                answer: "(c) 35"
                            }
                        ]
                    },
                    "kingdom": {
                        questions: [
                            {
                                year: "NEET 2019",
                                question: "The highest category in taxonomic hierarchy is:",
                                options: [
                                    "(a) Kingdom",
                                    "(b) Phylum",
                                    "(c) Class",
                                    "(d) Species"
                                ],
                                answer: "(a) Kingdom"
                            }
                        ]
                    }
                }
            },
            "12": {}
        };

        // Wait for DOM to load before adding event listeners
        document.addEventListener('DOMContentLoaded', function() {
            console.log('DOM loaded, setting up event listeners');
            
            const classSelect = document.getElementById('class-select');
            const chapterSelect = document.getElementById('chapter-select');
            const sectionSelect = document.getElementById('section-select');
            
            if (classSelect) {
                classSelect.addEventListener('change', loadChapters);
                console.log('Class select event listener added');
            }
            
            if (chapterSelect) {
                chapterSelect.addEventListener('change', loadSections);
                console.log('Chapter select event listener added');
            }
            
            if (sectionSelect) {
                sectionSelect.addEventListener('change', loadQuestions);
                console.log('Section select event listener added');
            }
        });

        function loadChapters() {
            console.log('loadChapters called');
            const classSelect = document.getElementById('class-select');
            const chapterSelect = document.getElementById('chapter-select');
            const sectionSelect = document.getElementById('section-select');
            const contentArea = document.getElementById('content-area');
            const editionNote = document.getElementById('edition-note');
            
            console.log('Class selected:', classSelect.value);
            
            // Reset dependent dropdowns
            chapterSelect.innerHTML = '<option value="">Select Chapter</option>';
            sectionSelect.innerHTML = '<option value="">Select Section/Page</option>';
            chapterSelect.disabled = true;
            sectionSelect.disabled = true;
            contentArea.style.display = 'none';
            editionNote.style.display = classSelect.value ? 'block' : 'none';
            
            if (classSelect.value && chaptersData[classSelect.value]) {
                const chapters = chaptersData[classSelect.value];
                console.log('Loading chapters:', chapters);
                
                chapters.forEach(chapter => {
                    const option = document.createElement('option');
                    option.value = chapter.id;
                    option.textContent = chapter.name;
                    chapterSelect.appendChild(option);
                });
                chapterSelect.disabled = false;
                console.log('Chapters loaded, dropdown enabled');
            }
        }

        function loadSections() {
            console.log('loadSections called');
            const classSelect = document.getElementById('class-select');
            const chapterSelect = document.getElementById('chapter-select');
            const sectionSelect = document.getElementById('section-select');
            const contentArea = document.getElementById('content-area');
            
            console.log('Chapter selected:', chapterSelect.value);
            
            // Reset section dropdown
            sectionSelect.innerHTML = '<option value="">Select Section/Page</option>';
            sectionSelect.disabled = true;
            contentArea.style.display = 'none';
            
            if (chapterSelect.value && chaptersData[classSelect.value]) {
                const chapters = chaptersData[classSelect.value];
                const selectedChapter = chapters.find(ch => ch.id === chapterSelect.value);
                console.log('Selected chapter:', selectedChapter);
                
                if (selectedChapter && selectedChapter.sections) {
                    selectedChapter.sections.forEach(section => {
                        const option = document.createElement('option');
                        option.value = section.id;
                        option.textContent = section.name;
                        sectionSelect.appendChild(option);
                    });
                    sectionSelect.disabled = false;
                    console.log('Sections loaded, dropdown enabled');
                }
            }
        }

        function loadQuestions() {
            console.log('loadQuestions called');
            const classSelect = document.getElementById('class-select');
            const chapterSelect = document.getElementById('chapter-select');
            const sectionSelect = document.getElementById('section-select');
            const contentArea = document.getElementById('content-area');
            
            console.log('Section selected:', sectionSelect.value);
            
            if (!sectionSelect.value) {
                contentArea.style.display = 'none';
                return;
            }
            
            const selectedClass = classSelect.value;
            const selectedChapter = chapterSelect.value;
            const selectedSection = sectionSelect.value;
            
            contentArea.innerHTML = '';
            contentArea.style.display = 'block';
            
            // Check if questions exist for this section
            const sectionData = questionsData[selectedClass] && 
                               questionsData[selectedClass][selectedChapter] && 
                               questionsData[selectedClass][selectedChapter][selectedSection];
            
            console.log('Section data found:', !!sectionData);
            
            if (sectionData) {
                // Section info
                const sectionInfo = document.createElement('div');
                sectionInfo.className = 'section-info';
                const selectedSectionName = sectionSelect.selectedOptions[0].text;
                sectionInfo.innerHTML = `
                    <h3>${selectedSectionName}</h3>
                    <p><strong>No. of questions found:</strong> ${sectionData.questions.length}</p>
                `;
                contentArea.appendChild(sectionInfo);
                
                // Questions
                sectionData.questions.forEach((questionData, index) => {
                    const qId = `answer-${selectedClass}-${selectedChapter}-${selectedSection}-${index}`;
                    const copyBtnId = `copy-${selectedClass}-${selectedChapter}-${selectedSection}-${index}`;

                    const questionDiv = document.createElement('div');
                    questionDiv.className = 'question-container';
                    
                    const questionOptionsJson = JSON.stringify(questionData.options);
                    
                    questionDiv.innerHTML = `
                        <div class="question-year">${questionData.year}</div>
                        <div class="question-text">${questionData.question}</div>
                        <div class="options">
                            ${questionData.options.map(option => `<div class="option">${option}</div>`).join('')}
                        </div>
                        <div class="answer-section">
                            <div id="${qId}" class="answer-area">
                                <strong>Answer:</strong> ${questionData.answer}
                            </div>
                            <div class="buttons-area">
                                <button class="btn btn-answer" onclick="showAnswer('${qId}')">
                                    Show Answer
                                </button>
                                <button id="${copyBtnId}" class="btn btn-copy" onclick="copyPrompt('${copyBtnId}', '${questionData.year}', `${questionData.question.replace(/`/g, '\\`').replace(/'/g, "\\'")}`, ${questionOptionsJson.replace(/"/g, "&quot;")})">
                                    <span class="copy-icon">ðŸ“‹</span>
                                    Copy Prompt
                                </button>
                            </div>
                        </div>
                        <div class="instruction-text">
                            Paste the prompt in ChatGPT, DeepSeek, Gemini, etc. to get explanation
                        </div>
                    `;
                    contentArea.appendChild(questionDiv);
                });
            } else {
                // No questions found
                const sectionInfo = document.createElement('div');
                sectionInfo.className = 'section-info';
                const selectedSectionName = sectionSelect.selectedOptions[0].text;
                sectionInfo.innerHTML = `
                    <h3>${selectedSectionName}</h3>
                    <p><strong>No. of questions found:</strong> No questions detected</p>
                `;
                contentArea.appendChild(sectionInfo);
                
                const noQuestionsMsg = document.createElement('div');
                noQuestionsMsg.className = 'no-questions';
                noQuestionsMsg.innerHTML = '<h3>No questions detected for this section</h3><p>Questions data will be added in future updates.</p>';
                contentArea.appendChild(noQuestionsMsg);
            }
        }

        function showAnswer(answerId) {
            console.log('showAnswer called for:', answerId);
            const answerArea = document.getElementById(answerId);
            if (!answerArea) {
                console.error('Answer area not found:', answerId);
                return;
            }
            answerArea.style.display = (answerArea.style.display === 'none' || answerArea.style.display === '') ? 'block' : 'none';
        }

        // Build prompt text with question and options
        function buildPrompt(year, question, options) {
            const lines = [
                `${year}`,
                `Question: ${question}`,
                `Options:`,
                ...options,
                '',
                'Please provide the correct answer with explanation.'
            ];
            return lines.join('
');
        }

        // Copy functionality
        function copyPrompt(btnId, year, question, options) {
            console.log('copyPrompt called for:', btnId);
            const button = document.getElementById(btnId);
            const originalText = button.innerHTML;
            
            const text = buildPrompt(year, question, options);

            // Try modern clipboard API first
            if (navigator.clipboard && window.isSecureContext) {
                navigator.clipboard.writeText(text).then(() => {
                    // Success feedback
                    button.innerHTML = '<span class="copy-icon">âœ…</span> Copied!';
                    button.disabled = true;
                    button.style.background = '#28a745';
                    button.style.color = 'white';
                    
                    setTimeout(() => {
                        button.innerHTML = originalText;
                        button.disabled = false;
                        button.style.background = '#ffc107';
                        button.style.color = '#212529';
                    }, 2000);
                }).catch(() => {
                    // Fallback to execCommand
                    fallbackCopy(text, button, originalText);
                });
            } else {
                // Fallback for older browsers
                fallbackCopy(text, button, originalText);
            }
        }

        // Fallback copy method
        function fallbackCopy(text, button, originalText) {
            const textarea = document.createElement('textarea');
            textarea.value = text;
            textarea.style.position = 'fixed';
            textarea.style.left = '-9999px';
            textarea.style.top = '-9999px';
            document.body.appendChild(textarea);
            
            try {
                textarea.focus();
                textarea.select();
                const successful = document.execCommand('copy');
                
                if (successful) {
                    button.innerHTML = '<span class="copy-icon">âœ…</span> Copied!';
                    button.disabled = true;
                    button.style.background = '#28a745';
                    button.style.color = 'white';
                    
                    setTimeout(() => {
                        button.innerHTML = originalText;
                        button.disabled = false;
                        button.style.background = '#ffc107';
                        button.style.color = '#212529';
                    }, 2000);
                } else {
                    throw new Error('Copy command failed');
                }
            } catch (err) {
                // Manual copy instruction
                button.innerHTML = '<span class="copy-icon">ðŸ“‹</span> Select & Copy';
                button.style.background = '#6c757d';
                
                // Show the text in an alert for manual copying
                alert('Please copy this text manually:

' + text);
                
                setTimeout(() => {
                    button.innerHTML = originalText;
                    button.style.background = '#ffc107';
                }, 3000);
            } finally {
                document.body.removeChild(textarea);
            }
        }
    </script>

    <!-- 
    ===========================================
    DEBUGGING FIXES APPLIED
    ===========================================
    - Added DOMContentLoaded event listener
    - Added console.log statements for debugging
    - Removed onchange attributes from HTML (potential conflict)
    - Added proper event listeners via JavaScript
    - Fixed string escaping in onclick handlers
    - Added error handling and logging
    - Added CSS for disabled select styling
    -->
</body>
</html>