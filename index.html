<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NEET-PYQ</title>
<style>
  body {
    font-family: 'Montserrat', Arial, sans-serif;
    margin: 0;
    padding: 20px 24px;
    background-color: #f9fafb;
    color: #1f2937;
    overflow-x: hidden;
  }
  .header {
    text-align: left;
    background-color: #023047;
    color: #ffb347;
    padding: 48px 24px 32px 24px;
    border-radius: 10px;
    margin-bottom: 32px;
    position: relative;
    overflow: hidden;
  }
  .header::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle at center, #4f59b0 0%, transparent 70%);
    opacity: 0.3;
    pointer-events: none;
  }
  .header h1 {
    position: relative;
    margin: 0 0 12px 0;
    font-size: 3rem;
    font-weight: 900;
    letter-spacing: 2px;
    line-height: 1.1;
    transform: none !important;
    color: #ffa726;
    max-width: 100%;
    white-space: nowrap;
  }
  .header .subtitle {
    position: relative;
    font-size: 18px;
    font-weight: 600;
    color: #b9fbc0;
    letter-spacing: 0.6px;
  }
  .note {
    max-width: 720px;
    margin: 0 auto 24px auto;
    font-style: italic;
    font-size: 14px;
    color: #4b6650;
    background-color: #d7e7d0;
    border-left: 6px solid #a8c77a;
    padding: 12px 20px;
    border-radius: 8px;
  }
  .controls {
    display: flex;
    flex-wrap: wrap;
    gap: 18px;
    margin-bottom: 16px;
    justify-content: center;
    align-items: center;
  }
  .class-reload-group {
    display: flex;
    gap: 8px;
    align-items: flex-end;
    min-width: 180px;
    flex: 1;
  }
  .dropdown-group {
    min-width: 180px;
    flex: 1;
  }
  .class-dropdown-part {
    flex: 1;
  }
  label {
    display: block;
    font-weight: 700;
    font-size: 15px;
    margin-bottom: 6px;
    color: #344e41;
  }
  select {
    width: 100%;
    padding: 10px 14px;
    border-radius: 8px;
    border: 2px solid #028090;
    font-size: 15px;
    background-color: #ffffff;
    color: #023047;
    transition: 0.3s;
  }
  select:focus {
    outline: none;
    border-color: #023047;
    background-color: #e0f7f4;
  }
  .reload-btn {
    cursor: pointer;
    background-color: #8b5cf6;
    border: none;
    color: #fff;
    padding: 8px 12px;
    border-radius: 6px;
    font-weight: 700;
    font-size: 12px;
    transition: background-color 0.3s ease;
    display: flex;
    align-items: center;
    gap: 4px;
    height: 36px;
    white-space: nowrap;
  }
  .reload-btn:hover {
    background-color: #7c3aed;
  }
  #scoreWrapper {
    display: flex;
    align-items: center;
    margin-left: 12px;
  }
  #scoreCard {
    display: flex;
    align-items: center;
    font-weight: 700;
    font-size: 18px;
    color: #116466;
    border-left: 5px solid #028090;
    padding-left: 14px;
    white-space: nowrap;
  }
  .refreshBtn {
    cursor: pointer;
    background-color: #0d6efd;
    border: none;
    color: #fff;
    padding: 4px 10px;
    border-radius: 7px;
    font-weight: 700;
    font-size: 13px;
    transition: background-color 0.3s ease;
    margin-left: 8px;
    height: 32px;
    line-height: 24px;
    display: flex;
    align-items: center;
    gap: 4px;
  }
  .refreshBtn:hover {
    background-color: #084298;
  }
  .content-area {
    background-color: #fff1e0;
    padding: 28px 30px;
    border-radius: 12px;
    min-height: 300px;
    color: #1f2937;
    transition: background-color 0.4s ease;
    max-width: 900px;
    margin: 0 auto 30px auto;
  }
  .question-count {
    font-weight: 700;
    font-size: 18px;
    color: #116466;
    margin-bottom: 18px;
    border-left: 5px solid #028090;
    padding-left: 14px;
  }
  .question-item {
    background-color: #fff8f0;
    border-radius: 12px;
    border: 1.5px solid #f0c49c;
    margin-bottom: 26px;
    padding: 20px 24px;
    font-size: 15px;
    max-width: 100%;
    position: relative;
  }
  .question-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 14px;
    gap: 12px;
    flex-wrap: wrap;
  }
  .question-number {
    font-weight: 700;
    font-size: 18px;
    color: #2a6f62;
  }
  .question-year {
    background-color: #116466;
    color: #e0f7f4;
    padding: 5px 14px;
    border-radius: 16px;
    font-weight: 600;
    font-size: 13px;
    letter-spacing: 0.6px;
    white-space: nowrap;
  }
  .question-text {
    font-weight: 600;
    font-size: 15px;
    color: #255c4d;
    margin-bottom: 14px;
    max-width: 100%;
    word-wrap: break-word;
    word-break: break-word;
  }
  .options {
    margin-bottom: 18px;
  }
  .option {
    background-color: #ffffff;
    border-radius: 6px;
    border: 1.8px solid #b5d0c8;
    padding: 11px 18px;
    margin: 8px 0;
    font-weight: 500;
    font-size: 15px;
    color: #244636;
    cursor: pointer;
    transition: background-color 0.3s, border-color 0.3s, color 0.3s;
    user-select: none;
    position: relative;
    overflow: visible;
  }
  .option:hover:not(.disabled) {
    background-color: #dceddb;
    border-color: #71b280;
  }
  .option.correct-temp {
    background-color: rgba(25, 135, 84, 0.15);
    border-color: rgba(25, 135, 84, 0.3);
    color: #2e7d32;
  }
  .option.incorrect-temp {
    background-color: rgba(220, 53, 69, 0.15);
    border-color: rgba(220, 53, 69, 0.3);
    color: #b02a37;
  }
  .option.disabled {
    cursor: default;
    opacity: 0.8;
  }
  .answer-popup {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    display: flex;
    opacity: 0.95;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: 900;
    border-radius: 6px;
    z-index: 5;
    pointer-events: none;
    animation: popup-fade 1.2s forwards;
  }
  .answer-popup.correct {
    background-color: rgba(25, 135, 84, 0.25);
    color: #18763b;
  }
  .answer-popup.incorrect {
    background-color: rgba(220, 53, 69, 0.2);
    color: #b02a37;
  }
  @keyframes popup-fade {
    0% { opacity: 0; }
    10% { opacity: 1;}
    80% { opacity: 0.95;}
    100% { opacity: 0; }
  }
  .button-group {
    display: flex;
    gap: 14px;
    flex-wrap: wrap;
    margin-bottom: 8px;
  }
  .btn {
    padding: 11px 18px;
    border: none;
    border-radius: 7px;
    cursor: pointer;
    font-weight: 700;
    font-size: 15px;
    color: #f0f0f0;
    transition: background-color 0.3s ease;
  }
  .btn-answer {
    background-color: #198754;
  }
  .btn-answer:hover {
    background-color: #146c43;
  }
  .btn-copy {
    background-color: #0d6efd;
  }
  .btn-copy:hover {
    background-color: #084298;
  }
  .btn-chatgpt {
    background-color: #ff0000;
  }
  .btn-chatgpt:hover {
    background-color: #cc0000;
  }
  .answer-reveal {
    display: none;
    margin-top: 14px;
    background: #c7ddfa;
    border: 2px solid #3b82f6;
    border-radius: 10px;
    color: #1e40af;
    padding: 14px 18px;
    font-weight: 700;
  }
  .tick-cross-popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 80px;
    font-weight: 900;
    z-index: 1000;
    pointer-events: none;
    animation: tick-cross-fade 1.5s forwards;
  }
  .tick-cross-popup.correct {
    color: #198754;
  }
  .tick-cross-popup.incorrect {
    color: #dc3545;
  }
  @keyframes tick-cross-fade {
    0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
    20% { opacity: 1; transform: translate(-50%, -50%) scale(1.2); }
    40% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    100% { opacity: 0; transform: translate(-50%, -50%) scale(1); }
  }
  .no-questions {
    text-align: center;
    font-style: italic;
    color: #4a5768;
    font-size: 17px;
    padding: 48px 10px;
  }
  @media (max-width: 900px) {
    .controls { 
      flex-direction: column; 
      align-items: stretch;
    }
    .dropdown-group { 
      min-width: unset; 
      width: 100%;
    }
    .class-reload-group {
      min-width: unset;
      width: 100%;
      flex-direction: row;
    }
    .class-dropdown-part {
      flex: 1;
    }
    .reload-btn {
      margin-left: 8px;
      flex-shrink: 0;
    }
    .header h1 {
      padding-left: 8px;
      padding-right: 8px;
      margin-left: 0;
      max-width: 320px;
      white-space: normal;
    }
    .content-area {
      max-width: 100%;
      padding: 20px 16px;
      min-height: 300px;
    }
    .question-item {
      max-width: 100%;
      padding: 18px 12px;
    }
    .question-text {
      font-size: 15px;
    }
  }
</style>
</head>
<body>
<div class="header" role="banner">
  <h1>NEET-PYQ</h1>
  <div class="subtitle">NEET/AIPMT Biology Section Wise Analysis (1988-2025)</div>
</div>

<div class="note" role="note">
  <em>Note: Some questions from a particular section may appear in subsequent sections if the concept spans multiple areas.</em>
</div>

<div class="controls" role="region" aria-label="Filtering controls">
  <div class="class-reload-group">
    <div class="class-dropdown-part">
      <label for="classSelect">Class:</label>
      <select id="classSelect" aria-controls="chapterSelect sectionSelect" onchange="updateChapters()" aria-required="true">
        <option value="">Select Class</option>
        <option value="11">Class 11</option>
        <option value="12">Class 12</option>
      </select>
    </div>
    <button id="reloadBtn" class="reload-btn" onclick="window.location.reload()">
      â†» Reload
    </button>
  </div>
  <div class="dropdown-group">
    <label for="chapterSelect">Chapter:</label>
    <select id="chapterSelect" aria-controls="sectionSelect" onchange="updateSections()" disabled aria-required="true">
      <option value="">Select Chapter</option>
    </select>
  </div>
  <div class="dropdown-group">
    <label for="sectionSelect">Section:</label>
    <select id="sectionSelect" onchange="showQuestions()" disabled aria-required="true">
      <option value="">Select Section</option>
    </select>
  </div>
  <div id="scoreWrapper">
    <div id="scoreCard" class="scoreCard" aria-live="polite" role="region" aria-atomic="true" tabindex="0">
      Section score: x / y
    </div>
    <button id="refreshChapterBtn" class="refreshBtn" aria-label="Refresh section score">
      <span>ðŸ”„</span> Refresh
    </button>
  </div>
</div>

<main class="content-area" id="contentArea" role="main" tabindex="-1">
  <div class="no-questions">Please select Class, Chapter, and Section to view questions.</div>
</main>

<script>
  const questionData = {
    "11": {
      "1": {
        title: "The Living World", 
        sections: [
          {id: "1.0", name: "Introduction to Biology and Living Organisms"},
          {id: "1.1", name: "Diversity in the Living World"},
          {id: "1.2", name: "Taxonomic Categories"}
        ], 
        questions: {}
      },
      "2": {
        title: "Biological Classification", 
        sections: [
          {id: "2.0", name: "Evolution of Classification Systems"},
          {id: "2.1", name: "Kingdom Monera"},
          {id: "2.2", name: "Kingdom Protista"},
          {id: "2.3", name: "Kingdom Fungi"},
          {id: "2.4", name: "Kingdom Plantae"},
          {id: "2.5", name: "Kingdom Animalia"},
          {id: "2.6", name: "Viruses, Viroids, Prions and Lichens"}
        ], 
        questions: {
          "2.0": [
            {
              year: "NEET/AIPMT 2014",
              question: "Five kingdom system of classification suggested by R. H. Whittaker is not based on which of the following criteria?",
              options: [
                "a) presence or absence of a well defined nucleus",
                "b) mode of reproduction",
                "c) mode of nutrition",
                "d) complexity of body organisation"
              ],
              answer: "b) mode of reproduction"
            },
            {
              year: "NEET/AIPMT 2012",
              question: "In the five kingdom classification, Chlamydomonas and Chlorella have been included in which kingdom?",
              options: [
                "a) protista",
                "b) algae",
                "c) plantae",
                "d) monera"
              ],
              answer: "a) protista"
            },
            {
              year: "NEET/AIPMT 2004",
              question: "Linnaeus system of plant classification is considered which type of system?",
              options: [
                "a) Artificial",
                "b) Natural",
                "c) Phylogenetic",
                "d) None of the above"
              ],
              answer: "a) Artificial"
            },
            {
              year: "NEET/AIPMT 2004/2002",
              question: "Who did propose natural classification of plants?",
              options: [
                "a) Carolus Linnaeus",
                "b) John Hutchinson",
                "c) Bentham and Hooker",
                "d) Oswald Tippo"
              ],
              answer: "c) Bentham and Hooker"
            },
            {
              year: "NEET/AIPMT 2004/1988",
              question: "Who proposed phylogenetic classification of plants?",
              options: [
                "a) Linnaeus",
                "b) Hutchinson",
                "c) Bentham and Hooker",
                "d) Mehta"
              ],
              answer: "b) Hutchinson"
            },
            {
              year: "NEET/AIPMT 2003",
              question: "In which kingdom would you classify the archaea and nitrogenâ€‘fixing organisms, if the five kingdom system of classification is used?",
              options: [
                "a) Plantae",
                "b) Fungi",
                "c) Protista",
                "d) Monera"
              ],
              answer: "d) Monera"
            },
            {
              year: "NEET/AIPMT 2002",
              question: "In five kingdom system, the main basis of classification is based on which criterion?",
              options: [
                "a) structure of nucleus",
                "b) mode of nutrition",
                "c) structure of cell wall",
                "d) asexual reproduction"
              ],
              answer: "b) mode of nutrition"
            },
            {
              year: "NEET/AIPMT 2002/2001/2000",
              question: "The basic unit of classification/taxonomy is which rank?",
              options: [
                "a) Genus",
                "b) Species",
                "c) Family",
                "d) Order"
              ],
              answer: "b) Species"
            },
            {
              year: "NEET/AIPMT 2000/1999",
              question: "Which of the following taxonomical ranks contain organisms least similar to one another?",
              options: [
                "a) Class",
                "b) Genus",
                "c) Family",
                "d) Species"
              ],
              answer: "a) Class"
            },
            {
              year: "NEET/AIPMT 2000/1997/1994",
              question: "The nonâ€‘nucleated, unicellular organisms of Whittaker's (1969) classification are included in which kingdom?",
              options: [
                "a) Protista",
                "b) Monera",
                "c) Animalia",
                "d) Plantae"
              ],
              answer: "b) Monera"
            },
            {
              year: "NEET/AIPMT 1999/1996",
              question: "A system of classification in which a large number of traits are considered is termed which type?",
              options: [
                "a) Artificial system",
                "b) Synthetic system",
                "c) Natural system",
                "d) Phylogenetic system"
              ],
              answer: "c) Natural system"
            },
            {
              year: "NEET/AIPMT 1998",
              question: "In the five kingdom system of classification, which single kingdom can include blueâ€‘green algae, nitrogen fixing bacteria and methanogenic archaebacteria?",
              options: [
                "a) Plantae",
                "b) Protista",
                "c) Monera",
                "d) Fungi"
              ],
              answer: "c) Monera"
            },
            {
              year: "NEET/AIPMT 1998",
              question: "A system of classification that is based on evolution, order and ancestry is known as which type?",
              options: [
                "a) Natural system",
                "b) Analogous system",
                "c) Phylogenetic system",
                "d) Homologous system"
              ],
              answer: "c) Phylogenetic system"
            },
            {
              year: "NEET/AIPMT 1998",
              question: "Systema Naturae is concerned with which field?",
              options: [
                "a) Solar system",
                "b) Ecosystem",
                "c) Classification of plants and animals",
                "d) Natural selection"
              ],
              answer: "c) Classification of plants and animals"
            },
            {
              year: "NEET/AIPMT 1994/1992",
              question: "The term \"phylum\" in animal classification was coined by whom?",
              options: [
                "a) E. Haeckel",
                "b) John Ray",
                "c) G.L. Cuvier",
                "d) Carolus Linnaeus"
              ],
              answer: "c) G.L. Cuvier"
            },
            {
              year: "NEET/AIPMT 1994",
              question: "Four kingdom classification was proposed by whom?",
              options: [
                "a) Whittaker",
                "b) Copeland",
                "c) Haeckel",
                "d) Linnaeus"
              ],
              answer: "b) Copeland"
            }
          ],
          "2.1": [
            {
              year: "NEET/AIPMT 2019",
              question: "Match Column I (groups) with Column II (typical habitats) and choose the correct option:<br><br>Column I: A) Halophiles &nbsp; B) Thermoacidophiles &nbsp; C) Methanogens &nbsp; D) Cyanobacteria<br>Column II: 1) Hot springs &nbsp; 2) Aquatic environment &nbsp; 3) Guts of ruminants &nbsp; 4) Salty area",
              options: [
                "a) A-4, B-1, C-3, D-2",
                "b) A-1, B-2, C-3, D-4",
                "c) A-3, B-4, C-2, D-1",
                "d) A-2, B-4, C-3, D-1"
              ],
              answer: "a) A-4, B-1, C-3, D-2"
            },
            {
              year: "NEET/AIPMT 2017",
              question: "Which among the following are the smallest living cells, known without a definite cell wall, pathogenic to plants as well as animals and can survive without oxygen?",
              options: [
                "a) Pseudomonas",
                "b) Mycoplasma",
                "c) Nostoc",
                "d) Bacillus"
              ],
              answer: "b) Mycoplasma"
            },
            {
              year: "NEET/AIPMT 2017",
              question: "Which of the following components provides sticky character to the bacterial cell?",
              options: [
                "a) Nuclear membrane",
                "b) Plasma membrane",
                "c) Glycocalyx",
                "d) Cell wall"
              ],
              answer: "c) Glycocalyx"
            },
            {
              year: "NEET/AIPMT 2017",
              question: "DNA replication in bacteria occurs:",
              options: [
                "a) within nucleus",
                "b) Prior to fission",
                "c) just before transcription",
                "d) during S phase"
              ],
              answer: "b) Prior to fission"
            },
            {
              year: "NEET/AIPMT 2016",
              question: "Methanogens belong to:",
              options: [
                "a) eubacteria",
                "b) archaebacteria",
                "c) dinoflagellates",
                "d) slime moulds"
              ],
              answer: "b) archaebacteria"
            },
            {
              year: "NEET/AIPMT 2014",
              question: "Pigment containing membranous extensions in some cyanobacteria are:",
              options: [
                "a) pneumatophores",
                "b) chromatophores",
                "c) heterocysts",
                "d) basal bodies"
              ],
              answer: "b) chromatophores"
            },
            {
              year: "NEET/AIPMT 2013",
              question: "Archaebacteria differ from eubacteria in:",
              options: [
                "a) cell membrane structure",
                "b) mode of nutrition",
                "c) cell shape",
                "d) mode of reproduction"
              ],
              answer: "a) cell membrane structure"
            },
            {
              year: "NEET/AIPMT 2013",
              question: "Which of the following are likely to be present in deep sea water?",
              options: [
                "a) Blue-green algae",
                "b) Saprophytic fungi",
                "c) Archaebacteria",
                "d) Eubacteria"
              ],
              answer: "c) Archaebacteria"
            },
            {
              year: "NEET/AIPMT 2012",
              question: "The most abundant prokaryotes helpful to humans in making curd from milk and in production of antibiotics are the ones categorized as:",
              options: [
                "a) cyanobacteria",
                "b) archaebacteria",
                "c) chemosynthetic autotrophs",
                "d) heterotrophic bacteria"
              ],
              answer: "d) heterotrophic bacteria"
            },
            {
              year: "NEET/AIPMT 2012",
              question: "The cyanobacteria are also referred to as:",
              options: [
                "a) protists",
                "b) golden algae",
                "c) slime moulds",
                "d) blue green algae"
              ],
              answer: "d) blue green algae"
            },
            {
              year: "NEET/AIPMT 2011",
              question: "In eubacteria, a cellular component that resembles eukaryotic cells is:",
              options: [
                "a) plasma membrane",
                "b) nucleus",
                "c) ribosomes",
                "d) cell wall"
              ],
              answer: "a) plasma membrane"
            },
            {
              year: "NEET/AIPMT 2010",
              question: "Some hyperthermophilic organisms that grow in highly acidic (pHâ‚‚) habitats belong to the two groups:",
              options: [
                "a) eubacteria and archaea",
                "b) cyanobacteria and diatoms",
                "c) protists and mosses",
                "d) liverworts and yeasts"
              ],
              answer: "a) eubacteria and archaea"
            },
            {
              year: "NEET/AIPMT 2008",
              question: "In the light of recent classification of living organisms into three domains of life (bacteria, archaea and eukarya), which one of the following statements is true about archaea?",
              options: [
                "a) Archaea completely differ from both prokaryotes and eukaryotes",
                "b) Archaea completely differ from prokaryotes",
                "c) Archaea resemble eukarya in all respects",
                "d) Archaea have some novel features that are absent in other prokaryotes and eukaryotes"
              ],
              answer: "d) Archaea have some novel features that are absent in other prokaryotes and eukaryotes"
            },
            {
              year: "NEET/AIPMT 2008",
              question: "Thermococcus, Methanococcus and Methanobacterium exemplify:",
              options: [
                "a) bacteria whose DNA is relaxed or positively supercoiled but which have a cytoskeleton as well as mitochondria",
                "b) bacteria that contain a cytoskeleton and ribosomes",
                "c) archaebacteria that contain protein homologous to eukaryotic core histones",
                "d) archaebacteria that lack any histones resembling those found in eukaryotes but whose DNA is negatively supercoiled"
              ],
              answer: "c) archaebacteria that contain protein homologous to eukaryotic core histones"
            },
            {
              year: "NEET/AIPMT 2008",
              question: "Bacterial leaf blight of rice is caused by species:",
              options: [
                "a) Alternaria",
                "b) Erwinia",
                "c) Xanthomonas",
                "d) Pseudomonas"
              ],
              answer: "c) Xanthomonas"
            },
            {
              year: "NEET/AIPMT 2006",
              question: "Curing of tea leaves is brought about by the activity of:",
              options: [
                "a) fungi",
                "b) bacteria",
                "c) mycorrhiza",
                "d) viruses"
              ],
              answer: "b) bacteria"
            },
            {
              year: "NEET/AIPMT 2005",
              question: "For retting of jute the fermenting microbe used is:",
              options: [
                "a) methanophilic bacteria",
                "b) butyric acid bacteria",
                "c) Helicobacter pylori",
                "d) Streptococcus lactis"
              ],
              answer: "b) butyric acid bacteria"
            },
            {
              year: "NEET/AIPMT 2002",
              question: "Which statement is correct for bacterial transduction?",
              options: [
                "a) Transfer of some genes from one bacteria to another bacteria through virus",
                "b) Transfer of genes from one bacteria to another bacteria by conjugation",
                "c) Bacteria obtained its DNA directly from mother cell",
                "d) Bacteria obtained DNA from other external source"
              ],
              answer: "a) Transfer of some genes from one bacteria to another bacteria through virus"
            },
            {
              year: "NEET/AIPMT 2001",
              question: "What is true for archaebacteria?",
              options: [
                "a) All halophiles",
                "b) All photosynthetics",
                "c) All fossils",
                "d) Oldest living beings"
              ],
              answer: "d) Oldest living beings"
            },
            {
              year: "NEET/AIPMT 2001",
              question: "Difference in Gram positive and Gram negative bacteria is due to:",
              options: [
                "a) cell wall",
                "b) cell membrane",
                "c) ribosome",
                "d) cytoplasm"
              ],
              answer: "a) cell wall"
            },
            {
              year: "NEET/AIPMT 1998",
              question: "Genes for antibiotic resistance are located in:",
              options: [
                "a) Chromosome",
                "b) Nucleus",
                "c) Cell wall",
                "d) Plasmid"
              ],
              answer: "d) Plasmid"
            },
            {
              year: "NEET/AIPMT 1998",
              question: "Which one of the following can utilize molecular nitrogen (Nâ‚‚) as nutrient for growth?",
              options: [
                "a) Rhizobium",
                "b) Spirogyra",
                "c) Mucor",
                "d) Methanococcus"
              ],
              answer: "d) Methanococcus"
            },
            {
              year: "NEET/AIPMT 1990",
              question: "Which one belongs to Monera?",
              options: [
                "a) Amoeba",
                "b) Escherichia",
                "c) Gelidium",
                "d) Spirogyra"
              ],
              answer: "b) Escherichia"
            },
            {
              year: "NEET/AIPMT 1990",
              question: "The main difference in Gram (+)ve and Gram (-)ve bacteria resides in their:",
              options: [
                "a) cell wall",
                "b) cell membrane",
                "c) cytoplasm",
                "d) flagella"
              ],
              answer: "a) cell wall"
            }
          ]
        }
      },
      // Continue with other chapters...
      "3": {
        title: "Plant Kingdom", 
        sections: [
          {id: "3.0", name: "Understanding Plant Kingdom and Classification Systems"},
          {id: "3.1", name: "Algae"},
          {id: "3.2", name: "Bryophytes"},
          {id: "3.3", name: "Pteridophytes"},
          {id: "3.4", name: "Gymnosperms"},
          {id: "3.5", name: "Angiosperms"}
        ], 
        questions: {}
      },
      "4": {
        title: "Animal Kingdom", 
        sections: [
          {id: "4.0", name: "Animal Diversity and Classification Basis"},
          {id: "4.1", name: "Basis of Classification"},
          {id: "4.2", name: "Classification of Animals"}
        ], 
        questions: {}
      },
      "5": {
        title: "Morphology of Flowering Plants", 
        sections: [
          {id: "5.0", name: "External Structure and Variations in Plants"},
          {id: "5.1", name: "The Root"},
          {id: "5.2", name: "The Stem"},
          {id: "5.3", name: "The Leaf"},
          {id: "5.4", name: "The Inflorescence"},
          {id: "5.5", name: "The Flower"},
          {id: "5.6", name: "The Fruit"},
          {id: "5.7", name: "The Seed"},
          {id: "5.8", name: "Semi-technical Description of a Typical Flowering Plant"},
          {id: "5.9", name: "Description of Some Important Families"}
        ], 
        questions: {}
      },
      "6": {
        title: "Anatomy of Flowering Plants", 
        sections: [
          {id: "6.0", name: "Internal Structure and Functional Organisation"},
          {id: "6.1", name: "The Tissue System"},
          {id: "6.2", name: "Anatomy of Dicotyledonous and Monocotyledonous Plants"}
        ], 
        questions: {}
      },
      "7": {
        title: "Structural Organisation in Animals", 
        sections: [
          {id: "7.0", name: "Multicellular Organisation and Organ Systems"},
          {id: "7.1", name: "Organ and Organ System"},
          {id: "7.2", name: "Frogs"}
        ], 
        questions: {}
      },
      "8": {
        title: "Cell - The Unit of Life", 
        sections: [
          {id: "8.0", name: "Cell Theory and Cellular Organisation"},
          {id: "8.1", name: "What is a Cell?"},
          {id: "8.2", name: "Cell Theory"},
          {id: "8.3", name: "An Overview of Cell"},
          {id: "8.4", name: "Prokaryotic Cells"},
          {id: "8.5", name: "Eukaryotic Cells"}
        ], 
        questions: {}
      },
      "9": {
        title: "Biomolecules", 
        sections: [
          {id: "9.0", name: "Chemical Composition of Living Organisms"},
          {id: "9.1", name: "How to Analyse Chemical Composition?"},
          {id: "9.2", name: "Primary and Secondary Metabolites"},
          {id: "9.3", name: "Biomacromolecules"},
          {id: "9.4", name: "Proteins"},
          {id: "9.5", name: "Polysaccharides"},
          {id: "9.6", name: "Nucleic Acids"},
          {id: "9.7", name: "Structure of Proteins"},
          {id: "9.8", name: "Enzymes"}
        ], 
        questions: {}
      },
      "10": {
        title: "Cell Cycle and Cell Division", 
        sections: [
          {id: "10.0", name: "Cell Growth and Reproduction"},
          {id: "10.1", name: "Cell Cycle"},
          {id: "10.2", name: "M Phase"},
          {id: "10.3", name: "Significance of Mitosis"},
          {id: "10.4", name: "Meiosis"},
          {id: "10.5", name: "Significance of Meiosis"}
        ], 
        questions: {}
      },
      "11": {
        title: "Photosynthesis in Higher Plants", 
        sections: [
          {id: "11.0", name: "Plant Metabolism and Energy Conversion"},
          {id: "11.1", name: "What do we Know?"},
          {id: "11.2", name: "Early Experiments"},
          {id: "11.3", name: "Where does Photosynthesis take place?"},
          {id: "11.4", name: "How many Pigments are involved in Photosynthesis?"},
          {id: "11.5", name: "What is Light Reaction?"},
          {id: "11.6", name: "The Electron Transport"},
          {id: "11.7", name: "Where are the ATP and NADPH Used?"},
          {id: "11.8", name: "The Câ‚„ Pathway"},
          {id: "11.9", name: "Photorespiration"},
          {id: "11.10", name: "Factors affecting Photosynthesis"}
        ], 
        questions: {}
      },
      "12": {
        title: "Respiration in Plants", 
        sections: [
          {id: "12.0", name: "Energy Requirements in Living Organisms"},
          {id: "12.1", name: "Do Plants Breathe?"},
          {id: "12.2", name: "Glycolysis"},
          {id: "12.3", name: "Fermentation"},
          {id: "12.4", name: "Aerobic Respiration"},
          {id: "12.5", name: "The Respiratory Balance Sheet"},
          {id: "12.6", name: "Amphibolic Pathway"},
          {id: "12.7", name: "Respiratory Quotient"}
        ], 
        questions: {}
      },
      "13": {
        title: "Plant Growth and Development", 
        sections: [
          {id: "13.0", name: "Growth Patterns and Development in Plants"},
          {id: "13.1", name: "Growth"},
          {id: "13.2", name: "Differentiation, Dedifferentiation and Redifferentiation"},
          {id: "13.3", name: "Development"},
          {id: "13.4", name: "Plant Growth Regulators"}
        ], 
        questions: {}
      },
      "14": {
        title: "Breathing and Exchange of Gases", 
        sections: [
          {id: "14.0", name: "Coordination and Homeostasis in Human Body"},
          {id: "14.1", name: "Respiratory Organs"},
          {id: "14.2", name: "Mechanism of Breathing"},
          {id: "14.3", name: "Exchange of Gases"},
          {id: "14.4", name: "Transport of Gases"},
          {id: "14.5", name: "Regulation of Respiration"},
          {id: "14.6", name: "Disorders of Respiratory System"}
        ], 
        questions: {}
      },
      "15": {
        title: "Body Fluids and Circulation", 
        sections: [
          {id: "15.0", name: "Transport of Materials in Living Organisms"},
          {id: "15.1", name: "Blood"},
          {id: "15.2", name: "Lymph (Tissue Fluid)"},
          {id: "15.3", name: "Circulatory Pathways"},
          {id: "15.4", name: "Double Circulation"},
          {id: "15.5", name: "Regulation of Cardiac Activity"},
          {id: "15.6", name: "Disorders of Circulatory System"}
        ], 
        questions: {}
      },
      "16": {
        title: "Excretory Products and their Elimination", 
        sections: [
          {id: "16.0", name: "Waste Removal and Homeostasis"},
          {id: "16.1", name: "Human Excretory System"},
          {id: "16.2", name: "Urine Formation"},
          {id: "16.3", name: "Function of the Tubules"},
          {id: "16.4", name: "Mechanism of Concentration of the Filtrate"},
          {id: "16.5", name: "Regulation of Kidney Function"},
          {id: "16.6", name: "Micturition"},
          {id: "16.7", name: "Role of other Organs in Excretion"},
          {id: "16.8", name: "Disorders of the Excretory System"}
        ], 
        questions: {}
      },
      "17": {
        title: "Locomotion and Movement", 
        sections: [
          {id: "17.0", name: "Movement as a Characteristic of Life"},
          {id: "17.1", name: "Types of Movement"},
          {id: "17.2", name: "Muscle"},
          {id: "17.3", name: "Skeletal System"},
          {id: "17.4", name: "Joints"},
          {id: "17.5", name: "Disorders of Muscular and Skeletal System"}
        ], 
        questions: {}
      },
      "18": {
        title: "Neural Control and Coordination", 
        sections: [
          {id: "18.0", name: "Coordination and Integration in Multicellular Organisms"},
          {id: "18.1", name: "Neural System"},
          {id: "18.2", name: "Human Neural System"},
          {id: "18.3", name: "Neuron as Structural and Functional Unit of Neural System"},
          {id: "18.4", name: "Central Neural System"}
        ], 
        questions: {}
      },
      "19": {
        title: "Chemical Coordination and Integration", 
        sections: [
          {id: "19.0", name: "Endocrine System and Hormonal Coordination"},
          {id: "19.1", name: "Endocrine Glands and Hormones"},
          {id: "19.2", name: "Human Endocrine System"},
          {id: "19.3", name: "Hormones of Heart, Kidney and Gastrointestinal Tract"},
          {id: "19.4", name: "Mechanism of Hormone Action"}
        ], 
        questions: {}
      }
    },
    "12": {
      "1": {
        title: "Sexual Reproduction in Flowering Plants", 
        sections: [
          {id: "1.0", name: "Reproduction as a Vital Life Process"},
          {id: "1.1", name: "Flower - A Fascinating Organ of Angiosperms"},
          {id: "1.2", name: "Pre-fertilisation: Structures and Events"},
          {id: "1.3", name: "Double Fertilisation"},
          {id: "1.4", name: "Post-fertilisation: Structures and Events"},
          {id: "1.5", name: "Apomixis and Polyembryony"}
        ], 
        questions: {}
      },
      "2": {
        title: "Human Reproduction", 
        sections: [
          {id: "2.0", name: "Sexual Reproduction in Humans"},
          {id: "2.1", name: "The Male Reproductive System"},
          {id: "2.2", name: "The Female Reproductive System"},
          {id: "2.3", name: "Gametogenesis"},
          {id: "2.4", name: "Menstrual Cycle"},
          {id: "2.5", name: "Fertilisation and Implantation"},
          {id: "2.6", name: "Pregnancy and Embryonic Development"},
          {id: "2.7", name: "Parturition and Lactation"}
        ], 
        questions: {}
      },
      "3": {
        title: "Reproductive Health", 
        sections: [
          {id: "3.0", name: "Reproductive Health and Well-being"},
          {id: "3.1", name: "Reproductive Health â€“ Problems and Strategies"},
          {id: "3.2", name: "Population Stabilisation and Birth Control"},
          {id: "3.3", name: "Medical Termination of Pregnancy"},
          {id: "3.4", name: "Sexually Transmitted Infections (STIs)"},
          {id: "3.5", name: "Infertility"}
        ], 
        questions: {}
      },
      "4": {
        title: "Principles of Inheritance and Variation", 
        sections: [
          {id: "4.0", name: "Heredity and Genetic Basis of Inheritance"},
          {id: "4.1", name: "Mendel's Laws of Inheritance"},
          {id: "4.2", name: "Inheritance of One Gene"},
          {id: "4.3", name: "Inheritance of Two Genes"},
          {id: "4.4", name: "Sex Determination"},
          {id: "4.5", name: "Mutation"},
          {id: "4.6", name: "Genetic Disorders"}
        ], 
        questions: {}
      },
      "5": {
        title: "Molecular Basis of Inheritance", 
        sections: [
          {id: "5.0", name: "Genetic Material and Molecular Biology"},
          {id: "5.1", name: "The DNA"},
          {id: "5.2", name: "The Search for Genetic Material"},
          {id: "5.3", name: "RNA World"},
          {id: "5.4", name: "Replication"},
          {id: "5.5", name: "Transcription"},
          {id: "5.6", name: "Genetic Code"},
          {id: "5.7", name: "Translation"},
          {id: "5.8", name: "Regulation of Gene Expression"},
          {id: "5.9", name: "Human Genome Project"},
          {id: "5.10", name: "DNA Fingerprinting"}
        ], 
        questions: {}
      },
      "6": {
        title: "Evolution", 
        sections: [
          {id: "6.0", name: "History of Life Forms and Evolutionary Biology"},
          {id: "6.1", name: "Origin of Life"},
          {id: "6.2", name: "Evolution of Life Forms â€“ A Theory"},
          {id: "6.3", name: "What are the Evidences for Evolution?"},
          {id: "6.4", name: "What is Adaptive Radiation?"},
          {id: "6.5", name: "Biological Evolution"},
          {id: "6.6", name: "Mechanism of Evolution"},
          {id: "6.7", name: "Hardy-Weinberg Principle"},
          {id: "6.8", name: "A Brief Account of Evolution"},
          {id: "6.9", name: "Origin and Evolution of Man"}
        ], 
        questions: {}
      },
      "7": {
        title: "Human Health and Disease", 
        sections: [
          {id: "7.0", name: "Biology and Human Welfare Applications"},
          {id: "7.1", name: "Common Diseases in Humans"},
          {id: "7.2", name: "Immunity"},
          {id: "7.3", name: "AIDS"},
          {id: "7.4", name: "Cancer"},
          {id: "7.5", name: "Drugs and Alcohol Abuse"}
        ], 
        questions: {}
      },
      "8": {
        title: "Microbes in Human Welfare", 
        sections: [
          {id: "8.0", name: "Microbial Diversity and Applications"},
          {id: "8.1", name: "Microbes in Household Products"},
          {id: "8.2", name: "Microbes in Industrial Products"},
          {id: "8.3", name: "Microbes in Sewage Treatment"},
          {id: "8.4", name: "Microbes in Production of Biogas"},
          {id: "8.5", name: "Microbes as Biocontrol Agents"},
          {id: "8.6", name: "Microbes as Biofertilisers"}
        ], 
        questions: {}
      },
      "9": {
        title: "Biotechnology - Principles and Processes", 
        sections: [
          {id: "9.0", name: "Biotechnology and Genetic Engineering"},
          {id: "9.1", name: "Principles of Biotechnology"},
          {id: "9.2", name: "Tools of Recombinant DNA Technology"},
          {id: "9.3", name: "Processes of Recombinant DNA Technology"}
        ], 
        questions: {}
      },
      "10": {
        title: "Biotechnology and its Applications", 
        sections: [
          {id: "10.0", name: "Biotechnology Applications and Human Welfare"},
          {id: "10.1", name: "Biotechnological Applications in Agriculture"},
          {id: "10.2", name: "Biotechnological Applications in Medicine"},
          {id: "10.3", name: "Transgenic Animals"},
          {id: "10.4", name: "Ethical Issues"}
        ], 
        questions: {}
      },
      "11": {
        title: "Organisms and Populations", 
        sections: [
          {id: "11.0", name: "Ecological Perspective and Biological Understanding"},
          {id: "11.1", name: "Populations"}
        ], 
        questions: {}
      },
      "12": {
        title: "Ecosystem", 
        sections: [
          {id: "12.0", name: "Ecosystem as a Functional Unit of Nature"},
          {id: "12.1", name: "Ecosystem â€“ Structure and Function"},
          {id: "12.2", name: "Productivity"},
          {id: "12.3", name: "Decomposition"},
          {id: "12.4", name: "Energy Flow"},
          {id: "12.5", name: "Ecological Pyramids"}
        ], 
        questions: {}
      },
      "13": {
        title: "Biodiversity and Conservation", 
        sections: [
          {id: "13.0", name: "Life's Diversity and Conservation Challenges"},
          {id: "13.1", name: "Biodiversity"},
          {id: "13.2", name: "Biodiversity Conservation"}
        ], 
        questions: {}
      }
    }
  };

  const chapterData = {
    "11": [
      {id:"1",name:"The Living World"},
      {id:"2",name:"Biological Classification"},
      {id:"3",name:"Plant Kingdom"},
      {id:"4",name:"Animal Kingdom"},
      {id:"5",name:"Morphology of Flowering Plants"},
      {id:"6",name:"Anatomy of Flowering Plants"},
      {id:"7",name:"Structural Organisation in Animals"},
      {id:"8",name:"Cell - The Unit of Life"},
      {id:"9",name:"Biomolecules"},
      {id:"10",name:"Cell Cycle and Cell Division"},
      {id:"11",name:"Photosynthesis in Higher Plants"},
      {id:"12",name:"Respiration in Plants"},
      {id:"13",name:"Plant Growth and Development"},
      {id:"14",name:"Breathing and Exchange of Gases"},
      {id:"15",name:"Body Fluids and Circulation"},
      {id:"16",name:"Excretory Products and their Elimination"},
      {id:"17",name:"Locomotion and Movement"},
      {id:"18",name:"Neural Control and Coordination"},
      {id:"19",name:"Chemical Coordination and Integration"}
    ],
    "12": [
      {id:"1",name:"Sexual Reproduction in Flowering Plants"},
      {id:"2",name:"Human Reproduction"},
      {id:"3",name:"Reproductive Health"},
      {id:"4",name:"Principles of Inheritance and Variation"},
      {id:"5",name:"Molecular Basis of Inheritance"},
      {id:"6",name:"Evolution"},
      {id:"7",name:"Human Health and Disease"},
      {id:"8",name:"Microbes in Human Welfare"},
      {id:"9",name:"Biotechnology - Principles and Processes"},
      {id:"10",name:"Biotechnology and its Applications"},
      {id:"11",name:"Organisms and Populations"},
      {id:"12",name:"Ecosystem"},
      {id:"13",name:"Biodiversity and Conservation"}
    ]
  };

  // Use localStorage for persistent scores
  let cumulativeScores = {};
  let answeredQuestionsByChapter = {};
  let answeredQuestionsBySection = {};

  function saveScores() {
    localStorage.setItem('cumulativeScores', JSON.stringify(cumulativeScores));
    localStorage.setItem('answeredQuestionsByChapter', JSON.stringify(answeredQuestionsByChapter));
    localStorage.setItem('answeredQuestionsBySection', JSON.stringify(answeredQuestionsBySection));
  }
  function loadScores() {
    const cs = localStorage.getItem('cumulativeScores');
    const aqbc = localStorage.getItem('answeredQuestionsByChapter');
    const aqbs = localStorage.getItem('answeredQuestionsBySection');
    cumulativeScores = cs ? JSON.parse(cs) : {};
    answeredQuestionsByChapter = aqbc ? JSON.parse(aqbc) : {};
    answeredQuestionsBySection = aqbs ? JSON.parse(aqbs) : {};
  }
  loadScores();

  function getScore(classId, chapterId) {
    if (cumulativeScores[classId] && cumulativeScores[classId][chapterId]) {
      return cumulativeScores[classId][chapterId];
    }
    return null;
  }

  function initScore(classId, chapterId, totalQuestions) {
    if (!cumulativeScores[classId]) cumulativeScores[classId] = {};
    if (!cumulativeScores[classId][chapterId]) {
      cumulativeScores[classId][chapterId] = {
        correct: 0,
        total: totalQuestions
      };
    } else {
      cumulativeScores[classId][chapterId].total = totalQuestions;
    }
    saveScores();
  }

  function markQuestionAnswered(classId, chapterId, sectionKey, questionKey, correct) {
    if (!answeredQuestionsByChapter[classId]) answeredQuestionsByChapter[classId] = {};
    if (!answeredQuestionsByChapter[classId][chapterId]) answeredQuestionsByChapter[classId][chapterId] = {};
    if (!answeredQuestionsBySection[sectionKey]) answeredQuestionsBySection[sectionKey] = {};

    let prevCorrectSection = answeredQuestionsBySection[sectionKey][questionKey];
    if (prevCorrectSection === undefined) {
      answeredQuestionsBySection[sectionKey][questionKey] = correct;
    } else {
      answeredQuestionsBySection[sectionKey][questionKey] = correct;
    }

    let prevCorrect = answeredQuestionsByChapter[classId][chapterId][questionKey];
    if (prevCorrect === undefined) {
      answeredQuestionsByChapter[classId][chapterId][questionKey] = correct;
      if (correct) cumulativeScores[classId][chapterId].correct++;
    } else {
      if (prevCorrect !== correct) {
        answeredQuestionsByChapter[classId][chapterId][questionKey] = correct;
        if (correct) {
          cumulativeScores[classId][chapterId].correct++;
        } else {
          cumulativeScores[classId][chapterId].correct--;
          if (cumulativeScores[classId][chapterId].correct < 0) cumulativeScores[classId][chapterId].correct = 0;
        }
      }
    }
    saveScores();
  }

  function updateChapters() {
    const classSelect = document.getElementById('classSelect');
    const chapterSelect = document.getElementById('chapterSelect');
    const sectionSelect = document.getElementById('sectionSelect');
    chapterSelect.innerHTML = '<option value="">Select Chapter</option>';
    sectionSelect.innerHTML = '<option value="">Select Section</option>';
    sectionSelect.disabled = true;

    if (classSelect.value) {
      chapterSelect.disabled = false;
      chapterData[classSelect.value].forEach(chap => {
        const opt = document.createElement('option');
        opt.value = chap.id;
        opt.textContent = `Chapter ${chap.id}: ${chap.name}`;
        chapterSelect.appendChild(opt);
      });
    } else {
      chapterSelect.disabled = true;
    }
    clearContentAndScore();
  }

  function updateSections() {
    const classSelect = document.getElementById('classSelect');
    const chapterSelect = document.getElementById('chapterSelect');
    const sectionSelect = document.getElementById('sectionSelect');
    sectionSelect.innerHTML = '';

    if (classSelect.value && chapterSelect.value) {
      sectionSelect.disabled = false;
      const c = classSelect.value;
      const ch = chapterSelect.value;

      const chapterSections = questionData[c]?.[ch]?.sections || [];

      chapterSections.forEach(section => {
        let opt = document.createElement('option');
        opt.value = section.id;
        opt.textContent = `${section.id}: ${section.name}`;
        sectionSelect.appendChild(opt);
      });

      // Auto-select first section if available
      if (chapterSections.length > 0) {
        sectionSelect.selectedIndex = 0;
        sectionSelect.value = chapterSections[0].id;
        
        // Automatically show questions for first section
        setTimeout(() => {
          showQuestions();
        }, 100);
      }
    } else {
      sectionSelect.disabled = true;
      sectionSelect.innerHTML = '<option value="">Select Section</option>';
    }
    clearContentAndScore();
  }

  function clearContentAndScore() {
    document.getElementById('contentArea').innerHTML = '<div class="no-questions">Please select Class, Chapter, and Section to view questions.</div>';
    updateScoreDisplay();
  }

  function updateScoreDisplay() {
    const classSelect = document.getElementById('classSelect');
    const chapterSelect = document.getElementById('chapterSelect');
    const sectionSelect = document.getElementById('sectionSelect');
    const scoreCard = document.getElementById('scoreCard');

    if (!classSelect.value || !chapterSelect.value || !sectionSelect.value) {
      scoreCard.textContent = 'Section score: x / y';
      return;
    }
    const c = classSelect.value;
    const ch = chapterSelect.value;
    const section = sectionSelect.value;

    let sectionKey = `${c}_${ch}_${section}`;

    let totalSectionQuestions = 0;
    if(questionData[c] && questionData[c][ch] && questionData[c][ch].questions[section]){
      totalSectionQuestions = questionData[c][ch].questions[section].length;
    }
    if(!answeredQuestionsBySection[sectionKey]){
      answeredQuestionsBySection[sectionKey] = {};
    }
    let correctSectionCount = Object.values(answeredQuestionsBySection[sectionKey]).filter(corr=>corr).length;
    if(totalSectionQuestions === 0){
      scoreCard.textContent = 'Section score: x / y';
    } else {
      scoreCard.textContent = `Section score: ${correctSectionCount} / ${totalSectionQuestions}`;
    }
  }

  function showQuestions() {
    const c = document.getElementById('classSelect').value;
    const ch = document.getElementById('chapterSelect').value;
    const section = document.getElementById('sectionSelect').value;
    const contentArea = document.getElementById('contentArea');

    if (!c || !ch || !section) {
      contentArea.innerHTML = '<div class="no-questions">Please select Class, Chapter, and Section to view questions.</div>';
      updateScoreDisplay();
      return;
    }

    const questions = questionData[c]?.[ch]?.questions?.[section] || [];
    if (!questions.length) {
      contentArea.innerHTML = '<div class="question-count">No questions detected.</div>';
      updateScoreDisplay();
      return;
    }

    initScore(c, ch, questions.length);

    let questionCounter = 1;
    const allSections = questionData[c][ch].sections;
    for (let i = 0; i < allSections.length; i++) {
      if (allSections[i].id === section) break;
      const qCountPrevSection = (questionData[c][ch].questions[allSections[i].id]?.length) || 0;
      questionCounter += qCountPrevSection;
    }

    let html = `<div class="question-count">No. of questions found: ${questions.length}</div>`;
    questions.forEach((q, i) => {
      const qNum = questionCounter + i;
      html += `<div class="question-item" id="question-item-${qNum}">
        <div class="question-header">
          <span class="question-number">Q${qNum}.</span>
          <span class="question-year">${q.year}</span>
        </div>
        <div class="question-text">${q.question}</div>
        <div class="options" id="options-${qNum}">
          ${q.options.map((o, idx) => `<div class="option" role="button" tabindex="0" 
            data-qnum="${qNum}" data-index="${idx}">${o}</div>`).join('')}
        </div>
        <div class="button-group">
          <button class="btn btn-answer" onclick="toggleAnswer(${qNum})" aria-expanded="false" aria-controls="answer-${qNum}">Answer</button>
          <button class="btn btn-copy" onclick="copyQuestion(${qNum})">Copy Question</button>
          <button class="btn btn-chatgpt" onclick="openChatGPT(${qNum})">ChatGPT Explain</button>
        </div>
        <div class="answer-reveal" id="answer-${qNum}"><strong>Answer:</strong> ${q.answer}</div>
      </div>`;
    });
    contentArea.innerHTML = html;

    questions.forEach((q, i) => {
      const qNum = questionCounter + i;
      const optionsContainer = document.getElementById(`options-${qNum}`);
      optionsContainer.querySelectorAll('.option').forEach(optionDiv => {
        optionDiv.addEventListener('click', e => handleOptionClick(e, c, ch, section, qNum, q.answer));
        optionDiv.addEventListener('keydown', e => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            handleOptionClick(e, c, ch, section, qNum, q.answer);
          }
        });
      });
    });

    updateScoreDisplay();
  }

  function showTickCrossPopup(isCorrect) {
    const existingPopup = document.querySelector('.tick-cross-popup');
    if (existingPopup) {
      existingPopup.remove();
    }

    const popup = document.createElement('div');
    popup.className = `tick-cross-popup ${isCorrect ? 'correct' : 'incorrect'}`;
    popup.textContent = isCorrect ? 'âœ“' : 'âœ—';
    
    document.body.appendChild(popup);
    
    setTimeout(() => {
      if (popup.parentNode) {
        popup.parentNode.removeChild(popup);
      }
    }, 1500);
  }

  function handleOptionClick(event, classId, chapterId, section, qNum, correctAnswer) {
    const selectedOption = event.currentTarget;
    const optionsContainer = selectedOption.parentNode;
    const questionKey = `q${qNum}`;
    const sectionKey = `${classId}_${chapterId}_${section}`;

    if (answeredQuestionsBySection[sectionKey] && answeredQuestionsBySection[sectionKey][questionKey] !== undefined) {
      return;
    }

    optionsContainer.querySelectorAll('.option').forEach(o => {
      o.classList.add('disabled');
      o.style.cursor = 'default';
      o.setAttribute('aria-disabled', 'true');
      o.tabIndex = -1;
    });

    const selectedText = selectedOption.textContent.trim();
    const isCorrect = selectedText === correctAnswer;

    selectedOption.classList.add(isCorrect ? 'correct-temp' : 'incorrect-temp');

    showTickCrossPopup(isCorrect);

    markQuestionAnswered(classId, chapterId, sectionKey, questionKey, isCorrect);
    updateScoreDisplay();
  }

  function toggleAnswer(qNum) {
    const answerDiv = document.getElementById(`answer-${qNum}`);
    const button = document.querySelector(`[aria-controls="answer-${qNum}"]`);
    
    if (answerDiv.style.display === 'block') {
      answerDiv.style.display = 'none';
      button.setAttribute('aria-expanded', 'false');
    } else {
      answerDiv.style.display = 'block';
      button.setAttribute('aria-expanded', 'true');
    }
  }

  function copyQuestion(qNum) {
    const questionText = document.querySelector(`#question-item-${qNum} .question-text`).innerText;
    const options = Array.from(document.querySelectorAll(`#question-item-${qNum} .option`)).map(opt => opt.innerText).join('\n');
    const fullText = questionText + '\n\n' + options;
    
    navigator.clipboard.writeText(fullText).then(() => {
      // Optional: Show a brief "Copied!" message
    });
  }

  function openChatGPT(qNum) {
    const questionText = document.querySelector(`#question-item-${qNum} .question-text`).innerText;
    const options = Array.from(document.querySelectorAll(`#question-item-${qNum} .option`)).map(opt => opt.innerText).join('; ');
    const query = encodeURIComponent(`Explain this NEET question: ${questionText} Options: ${options}`);
    window.open(`https://chat.openai.com/?q=${query}`, '_blank');
  }

  // Per-section refresh functionality
  document.addEventListener('DOMContentLoaded', function() {
    const refreshBtn = document.getElementById('refreshChapterBtn');
    
    if (refreshBtn) {
      const newBtn = refreshBtn.cloneNode(true);
      refreshBtn.parentNode.replaceChild(newBtn, refreshBtn);
      
      newBtn.addEventListener('click', function() {
        const classSelect = document.getElementById('classSelect');
        const chapterSelect = document.getElementById('chapterSelect');
        const sectionSelect = document.getElementById('sectionSelect');
        
        const c = classSelect?.value;
        const ch = chapterSelect?.value;
        const sec = sectionSelect?.value;
        
        if (!c || !ch || !sec) return;
        
        const sectionKey = `${c}_${ch}_${sec}`;
        
        if (answeredQuestionsBySection[sectionKey]) {
          const sectionAnswers = answeredQuestionsBySection[sectionKey];
          
          Object.keys(sectionAnswers).forEach(questionKey => {
            const wasCorrect = sectionAnswers[questionKey];
            
            if (answeredQuestionsByChapter[c] && answeredQuestionsByChapter[c][ch]) {
              delete answeredQuestionsByChapter[c][ch][questionKey];
            }
            
            if (wasCorrect && cumulativeScores[c] && cumulativeScores[c][ch]) {
              cumulativeScores[c][ch].correct = Math.max(0, cumulativeScores[c][ch].correct - 1);
            }
          });
          
          delete answeredQuestionsBySection[sectionKey];
        }
        
        saveScores();
        
        document.querySelectorAll('.option').forEach(opt => {
          opt.classList.remove('correct-temp', 'incorrect-temp', 'disabled');
          const popup = opt.querySelector('.answer-popup');
          if (popup) popup.remove();
        });
        
        document.querySelectorAll('.answer-reveal').forEach(reveal => {
          reveal.style.display = 'none';
        });
        
        updateScoreDisplay();
      });
    }
  });
</script>

<script>
// Enhanced ChatGPT functionality with two-version answer format
function openChatGPT(qNum) {
  const questionText = document.querySelector(`#question-item-${qNum} .question-text`).innerText;
  const options = Array.from(document.querySelectorAll(`#question-item-${qNum} .option`)).map(opt => opt.innerText).join('; ');
  const yearText = document.querySelector(`#question-item-${qNum} .question-year`).innerText;
  
  // Enhanced prompt with two-version answer requirement
  const enhancedPrompt = `Explain this ${yearText} NEET question: 

Question: ${questionText}

Options: ${options}

Give two versions of answer:
Version 1: Brief explanation
Version 2: NCERT based, quote the exact matching statement from NCERT biology textbook latest reprint and explain accordingly.`;
  
  const query = encodeURIComponent(enhancedPrompt);
  window.open(`https://chat.openai.com/?q=${query}`, '_blank');
}
</script>
<script>
(function() {
  const c = "11";
  const ch = "2";
  const section = "2.2";

  const items = [
    {
      year: "NEET/AIPMT 2018",
      question: "Ciliates are unique among protozoans because they possess two forms of nuclei in the same cell.",
      options: [
        "a) use flagella for locomotion",
        "b) have a contractile vacuole for osmoregulation",
        "c) capture prey using pseudopodia",
        "d) have two kinds of nuclei"
      ],
      answer: "d) have two kinds of nuclei"
    },
    {
      year: "NEET/AIPMT 2018",
      question: "In ocean ecosystems, the chief primary producers are generally diatoms among the chrysophytes.",
      options: [
        "a) Dinoflagellates",
        "b) Diatoms",
        "c) Cyanobacteria",
        "d) Euglenoids"
      ],
      answer: "b) Diatoms"
    },
    {
      year: "NEET/AIPMT 2016",
      question: "Chrysophytes, euglenoids, dinoflagellates, and slime moulds are placed together under which kingdom?",
      options: [
        "a) Fungi",
        "b) Animalia",
        "c) Monera",
        "d) Protista"
      ],
      answer: "d) Protista"
    },
    {
      year: "NEET/AIPMT 2016",
      question: "Choose the incorrect statement about diatoms.",
      options: [
        "a) Diatom walls are easily destructible",
        "b) Their siliceous walls form diatomaceous earth",
        "c) They act as chief producers in oceans",
        "d) They are microscopic and drift passively in water"
      ],
      answer: "a) Diatom walls are easily destructible"
    },
    {
      year: "NEET/AIPMT 2015",
      question: "Which group shows a wall made of two thin overlapping halves that fit like a box and lid?",
      options: [
        "a) Dinoflagellates",
        "b) Slime moulds",
        "c) Chrysophytes (diatoms)",
        "d) Euglenoids"
      ],
      answer: "c) Chrysophytes (diatoms)"
    },
    {
      year: "NEET/AIPMT 2011",
      question: "Identify the organism that is not eukaryotic.",
      options: [
        "a) Paramecium caudatum",
        "b) Escherichia coli",
        "c) Euglena viridis",
        "d) Amoeba proteus"
      ],
      answer: "b) Escherichia coli"
    },
    {
      year: "NEET/AIPMT 2007",
      question: "Select the correctly identified representative of slime moulds.",
      options: [
        "a) Physarum",
        "b) Thiobacillus",
        "c) Anabaena",
        "d) Rhizopus"
      ],
      answer: "a) Physarum"
    },
    {
      year: "NEET/AIPMT 2005",
      question: "Auxospores and hormogonia are formed, respectively, by:",
      options: [
        "a) some diatoms; several cyanobacteria",
        "b) some cyanobacteria; many diatoms",
        "c) several cyanobacteria; several diatoms",
        "d) several diatoms; few cyanobacteria"
      ],
      answer: "a) some diatoms; several cyanobacteria"
    },
    {
      year: "NEET/AIPMT 2004",
      question: "A freshwater protozoan bearing a contractile vacuole is kept in sea water; the vacuole would:",
      options: [
        "a) increase in number",
        "b) disappear",
        "c) increase in size",
        "d) decrease in size"
      ],
      answer: "b) disappear"
    },
    {
      year: "NEET/AIPMT 2003",
      question: "The main advantage of encystment in Amoeba is:",
      options: [
        "a) survival during harsh conditions",
        "b) living without food for a period",
        "c) protection from parasites and predators",
        "d) removal of accumulated wastes"
      ],
      answer: "a) survival during harsh conditions"
    },
    {
      year: "NEET/AIPMT 2002",
      question: "Which organism carries two morphologically distinct nuclei in one cell?",
      options: [
        "a) Amoeba proteus",
        "b) Trypanosoma gambiense",
        "c) Plasmodium vivax",
        "d) Paramecium caudatum"
      ],
      answer: "d) Paramecium caudatum"
    },
    {
      year: "NEET/AIPMT 2002",
      question: "In Amoeba and Paramecium, osmoregulation is mainly performed by:",
      options: [
        "a) contractile vacuole",
        "b) nucleus",
        "c) mitochondria",
        "d) food vacuole"
      ],
      answer: "a) contractile vacuole"
    },
    {
      year: "NEET/AIPMT 2000/1992",
      question: "The malarial parasite is best described as:",
      options: [
        "a) Polygenetic",
        "b) Digenetic",
        "c) Monogenetic",
        "d) Monomorphic"
      ],
      answer: "b) Digenetic"
    },
    {
      year: "NEET/AIPMT 1999",
      question: "The motile, elongated zygote (ookinete) of Plasmodium occurs in the:",
      options: [
        "a) human RBCs",
        "b) human liver",
        "c) mosquito salivary glands",
        "d) mosquito gut"
      ],
      answer: "d) mosquito gut"
    },
    {
      year: "NEET/AIPMT 1998",
      question: "After a bite by an infected female Anopheles, malarial symptoms generally appear after:",
      options: [
        "a) 2â€“8 days",
        "b) 8â€“10 days",
        "c) 10â€“20 days",
        "d) 20â€“30 days"
      ],
      answer: "c) 10â€“20 days"
    },
    {
      year: "NEET/AIPMT 1997",
      question: "The infective stage of Entamoeba histolytica for humans is the:",
      options: [
        "a) trophozoite",
        "b) precyst",
        "c) uninucleate cyst",
        "d) tetranucleate cyst"
      ],
      answer: "d) tetranucleate cyst"
    },
    {
      year: "NEET/AIPMT 1995",
      question: "Which organism exhibits both plant-like and animal-like traits?",
      options: [
        "a) Euglena",
        "b) Paramecium",
        "c) Mycoplasma",
        "d) Bacteria"
      ],
      answer: "a) Euglena"
    },
    {
      year: "NEET/AIPMT 1995",
      question: "In protozoa, the primary function of the contractile vacuole is:",
      options: [
        "a) osmoregulation",
        "b) reproduction",
        "c) locomotion",
        "d) digestion"
      ],
      answer: "a) osmoregulation"
    },
    {
      year: "NEET/AIPMT 1993",
      question: "The transverse groove in dinoflagellates is termed the:",
      options: [
        "a) sulcus",
        "b) cingulum",
        "c) annulus",
        "d) both (b) and (c)"
      ],
      answer: "b) cingulum"
    },
    {
      year: "NEET/AIPMT 1993",
      question: "In cellular slime moulds, the spore-producing body is the:",
      options: [
        "a) pseudoplasmodium",
        "b) plasmodium",
        "c) sporangium",
        "d) sporophore"
      ],
      answer: "c) sporangium"
    },
    {
      year: "NEET/AIPMT 1992",
      question: "The phase of Plasmodium vivax completed in the female Anopheles is the:",
      options: [
        "a) sexual cycle",
        "b) pre-erythrocytic schizogony",
        "c) exoerythrocytic schizogony",
        "d) post-erythrocytic schizogony"
      ],
      answer: "a) sexual cycle"
    },
    {
      year: "NEET/AIPMT 1990",
      question: "Plasmodium (malarial parasite) belongs to the class:",
      options: [
        "a) Sarcodina",
        "b) Ciliata",
        "c) Sporozoa",
        "d) Dinophyceae"
      ],
      answer: "c) Sporozoa"
    }
  ];

  if (!window.questionData) return;
  if (!questionData[c] || !questionData[c][ch]) return;
  if (!questionData[c][ch].questions) questionData[c][ch].questions = {};

  // Replace 2.2 entirely
  questionData[c][ch].questions[section] = items;

  // If currently viewing 2.2, refresh the display
  const classSelect = document.getElementById('classSelect');
  const chapterSelect = document.getElementById('chapterSelect');
  const sectionSelect = document.getElementById('sectionSelect');
  if (classSelect?.value === c && chapterSelect?.value === ch && sectionSelect?.value === section) {
    setTimeout(() => {
      if (typeof showQuestions === 'function') showQuestions();
    }, 100);
  }
})();
</script>

<script>
(function() {
  const c = "11", ch = "2", section = "2.3";
  const items = [
    {year:"NEET/AIPMT 1992/1989",question:"In yeast, the enzyme system that brings about alcoholic fermentation is called zymase.",options:["a) Aldolase","b) Dehydrogenase","c) Invertase","d) Zymase"],answer:"d) Zymase"},
    {year:"NEET/AIPMT 1993",question:"In Mucor, asexual reproduction typically occurs via non-motile spores formed inside sporangia.",options:["a) Motile zoospores","b) Spores","c) Zoogametes","d) Zygospores"],answer:"b) Spores"},
    {year:"NEET/AIPMT 1995",question:"The causal agent of black rust (stem rust) of wheat is Puccinia graminis tritici.",options:["a) Albugo candida","b) Puccinia graminis tritici","c) Melampsora lini","d) Claviceps purpurea"],answer:"b) Puccinia graminis tritici"},
    {year:"NEET/AIPMT 1995",question:"Assertion: Mycorrhiza is a symbiotic association; Reason: It is a partnership between a fungus and an alga.",options:["a) A and R true; R explains A","b) A and R true; R not the explanation","c) A true; R false","d) A false; R true"],answer:"c) A true; R false"},
    {year:"NEET/AIPMT 1996",question:"Mycorrhiza is best described as a mutualistic association between plant roots and fungi.",options:["a) Parasitic rootsâ€“fungus relationship","b) Symbiosis of roots with fungi in higher plants","c) Symbiosis of algae and fungi","d) Antâ€“plant interaction"],answer:"b) Symbiosis of roots with fungi in higher plants"},
    {year:"NEET/AIPMT 1997",question:"The group once termed 'algal fungi' corresponds to Phycomycetes in older classifications.",options:["a) Ascomycetes","b) Basidiomycetes","c) Phycomycetes","d) Deuteromycetes"],answer:"c) Phycomycetes"},
    {year:"NEET/AIPMT 1998",question:"In the life cycle of Puccinia, telia appear on wheat leaves as one of the spore stages.",options:["a) Telia on wheat leaves","b) Aecia on barberry leaves","c) Pycnia on barberry leaves","d) Aecia on wheat leaves"],answer:"a) Telia on wheat leaves"},
    {year:"NEET/AIPMT 1999",question:"A dome-shaped columella is present inside the sporangium of Rhizopus.",options:["a) Spirogyra","b) Ulothrix","c) Rhizopus","d) None of these"],answer:"c) Rhizopus"},
    {year:"NEET/AIPMT 2000",question:"Black rust of wheat is caused by species of Puccinia.",options:["a) Puccinia","b) Ustilago","c) Albugo","d) Phytophthora"],answer:"a) Puccinia"},
    {year:"NEET/AIPMT 2002",question:"Among storage moulds, Aspergillus species are chiefly responsible for toxin contamination of stored grains.",options:["a) Aspergillus","b) Penicillium","c) Fusarium","d) Colletotrichum"],answer:"a) Aspergillus"},
    {year:"NEET/AIPMT 2002",question:"Loose smut of wheat spreads through seeds and floral parts and is a fungal disease.",options:["a) Loose smut of wheat","b) Corn smut","c) Covered smut of barley","d) Soft rot of potato"],answer:"a) Loose smut of wheat"},
    {year:"NEET/AIPMT 1998/2002",question:"Mycorrhiza illustrates symbiosis that enhances mineral uptake and stress tolerance through fungalâ€“root association.",options:["a) Antagonism","b) Endemism","c) Parasitism","d) Symbiosis"],answer:"d) Symbiosis"},
    {year:"NEET/AIPMT 1997/2005",question:"Ergot disease of rye is caused by Claviceps.",options:["a) Claviceps","b) Penicillium","c) Aspergillus","d) Rhizobium"],answer:"a) Claviceps"},
    {year:"NEET/AIPMT 1997/2000/2005",question:"Late blight of potato is due to Phytophthora infestans.",options:["a) Colletotrichum falcatum","b) Phytophthora infestans","c) Potato mosaic virus","d) Alternaria solani"],answer:"b) Phytophthora infestans"},
    {year:"NEET/AIPMT 2006",question:"Mucor grows best on moist bread around 25Â°C, with high humidity and shade.",options:["a) B, C and F only","b) A, C and E only","c) A, D and E only","d) B, D and E only"],answer:"c) A, D and E only"},
    {year:"NEET/AIPMT 2007",question:"Birdsâ€™ nest fungi and puffballs are representatives of Basidiomycetes.",options:["a) Puffballs and Claviceps","b) Peziza and stink horns","c) Morchella and mushrooms","d) Birdsâ€™ nest fungi and puffballs"],answer:"d) Birdsâ€™ nest fungi and puffballs"},
    {year:"NEET/AIPMT 2009",question:"The pairing 'late blight of potato â€” Alternaria solani' is incorrect.",options:["a) Black rust of wheat â€” Puccinia graminis","b) Loose smut of wheat â€” Ustilago nuda","c) Root knot â€” Meloidogyne sp.","d) Late blight of potato â€” Alternaria solani"],answer:"d) Late blight of potato â€” Alternaria solani"},
    {year:"NEET/AIPMT 2011",question:"The ringworm pathogen Microsporum belongs to the kingdom Fungi, as does Rhizopus.",options:["a) Taenia","b) Wuchereria","c) Rhizopus","d) Ascaris"],answer:"c) Rhizopus"},
    {year:"NEET/AIPMT 2013",question:"A correct statement about fungi is that they are heterotrophic eukaryotes.",options:["a) They lack a rigid cell wall","b) They are heterotrophs","c) They lack a nuclear membrane","d) They feed by phagocytosis"],answer:"b) They are heterotrophs"},
    {year:"NEET/AIPMT 2014",question:"The mushroom Amanita muscaria contains hallucinogenic compounds.",options:["a) Morchella esculenta","b) Amanita muscaria","c) Neurospora sp.","d) Ustilago sp."],answer:"b) Amanita muscaria"},
    {year:"NEET/AIPMT 2015",question:"In Deuteromycetes (e.g., Alternaria), sexual reproduction is absent.",options:["a) Mucor â€” conjugation â€” Ascomycetes","b) Agaricus â€” parasitic â€” Basidiomycetes","c) Phytophthora â€” aseptate â€” Basidiomycetes","d) Alternaria â€” sexual stage absent â€” Deuteromycetes"],answer:"d) Alternaria â€” sexual stage absent â€” Deuteromycetes"},
    {year:"NEET/AIPMT 2016/2018/2019",question:"Fungal walls are chiefly chitinous; basidia produce spores exogenously in Agaricus after karyogamyâ€“meiosis; plasmogamy denotes protoplast fusion.",options:["a) Main wall polymer is cellulose","b) Basidia form spores endogenously","c) Plasmogamy means nuclei fusion","d) Chitin dominates fungal walls"],answer:"d) Chitin dominates fungal walls"}
  ];
  if (!window.questionData) return;
  if (!questionData[c] || !questionData[c][ch]) return;
  if (!questionData[c][ch].questions) questionData[c][ch].questions = {};
  questionData[c][ch].questions[section] = items;
  const cs=document.getElementById('classSelect'), chs=document.getElementById('chapterSelect'), ss=document.getElementById('sectionSelect');
  if (cs?.value===c && chs?.value===ch && ss?.value===section) setTimeout(()=>{ if (typeof showQuestions==='function') showQuestions(); },100);
})();
</script>

<script>
(function() {
  const c="11", ch="2", section="2.4";
  const items = [
    {year:"NEET/AIPMT 1989",question:"In Cycas, the ovule is attached to the megasporophyll along the lateral margin.",options:["a) Laterally","b) Dorsally","c) Ventrally","d) Apically"],answer:"a) Laterally"},
    {year:"NEET/AIPMT 1988/1989",question:"Algae are considered promising for future food resources due to large-scale cultivation and nutritive value.",options:["a) Best for lab tests","b) Amenable to large-tank culture","c) May become important in human diet","d) Release oxygen and organic acids"],answer:"c) May become important in human diet"},
    {year:"NEET/AIPMT 1990",question:"In ferns, antherozoids are spiral and carry many flagella for motility.",options:["a) Coiled and multiflagellate","b) Coiled and biflagellate","c) Sickle-shaped and biflagellate","d) Sickle-shaped and multiflagellate"],answer:"a) Coiled and multiflagellate"},
    {year:"NEET/AIPMT 1990",question:"Cycas shows secondary growth through successive formation of several cambia.",options:["a) One persistent cambium","b) Short-lived cambium only","c) Multiple successive cambia","d) Only isolated strips"],answer:"c) Multiple successive cambia"},
    {year:"NEET/AIPMT 1991",question:"Most gymnosperms possess archegonia but lack antheridia on the female gametophyte.",options:["a) Only antheridia","b) Both antheridia and archegonia","c) Archegonia but no antheridia","d) Neither present"],answer:"c) Archegonia but no antheridia"},
    {year:"NEET/AIPMT 1989/1991",question:"In Cycas, the endosperm is gametophytic and formed pre-fertilisation.",options:["a) Sporophytic","b) Gametophytic","c) Newly evolved tissue","d) Post-fertilisation only"],answer:"b) Gametophytic"},
    {year:"NEET/AIPMT 1993",question:"In Pinus, dwarf shoots (spurs) may bear one, two or three needles depending on species.",options:["a) One needle","b) Two needles","c) Three needles","d) All are correct"],answer:"d) All are correct"},
    {year:"NEET/AIPMT 1994",question:"The common stele type in ferns is dictyostele due to overlapping leaf gaps.",options:["a) Dictyostele","b) Siphonostele","c) Protostele","d) None of these"],answer:"a) Dictyostele"},
    {year:"NEET/AIPMT 1994",question:"In Riccia, the sporophyte is parasitic on the gametophyte for nutrition.",options:["a) Sporophyte parasitic on gametophyte","b) Gametophyte parasitic on sporophyte","c) Sporophyte independent","d) Sporophyte semi-parasitic"],answer:"a) Sporophyte parasitic on gametophyte"},
    {year:"NEET/AIPMT 1999/2005",question:"Funaria capsule peristome typically has 16 teeth in two rings.",options:["a) 4 teeth in one ring","b) 32 teeth in two rings","c) 16 teeth in one ring","d) 16 teeth in two rings"],answer:"d) 16 teeth in two rings"},
    {year:"NEET/AIPMT 2001",question:"In Spirogyra, sexual reproduction is isogamy both morphologically and physiologically.",options:["a) Morph. anisogamy; physio. isogamy","b) Morph. isogamy; physio. isogamy","c) Morph. and physio. anisogamy","d) Morph. isogamy; physio. anisogamy"],answer:"b) Morph. isogamy; physio. isogamy"},
    {year:"NEET/AIPMT 1995/1993/2002",question:"In Ulothrix, meiosis occurs at zygote germination.",options:["a) During zoospore formation","b) During gamete formation","c) During zygote germination","d) During zoospore germination"],answer:"c) During zygote germination"},
    {year:"NEET/AIPMT 1996",question:"Among green algae, Chlorella is prominent in research and as a single-cell protein source.",options:["a) Mycoplasma","b) Spirogyra","c) Chlorella","d) Blue-green algae"],answer:"c) Chlorella"},
    {year:"NEET/AIPMT 1998/1997/2000",question:"Commercial agar-agar is primarily obtained from red algae such as Gelidium.",options:["a) Gigartina","b) Gelidium","c) Gracilaria","d) All of the above"],answer:"b) Gelidium"}
  ];
  if (!window.questionData) return;
  if (!questionData[c] || !questionData[c][ch]) return;
  if (!questionData[c][ch].questions) questionData[c][ch].questions = {};
  questionData[c][ch].questions[section] = items;
  const cs=document.getElementById('classSelect'), chs=document.getElementById('chapterSelect'), ss=document.getElementById('sectionSelect');
  if (cs?.value===c && chs?.value===ch && ss?.value===section) setTimeout(()=>{ if (typeof showQuestions==='function') showQuestions(); },100);
})();
</script>

<script>
(function() {
  const c="11", ch="2", section="2.5";
  const items = [
    {year:"NEET/AIPMT 1988",question:"Peripatus is a connecting link between Annelida and Arthropoda.",options:["a) Annelida and Arthropoda","b) Mollusca and Arthropoda","c) Annelida and Mollusca","d) Coelenterata and Platyhelminthes"],answer:"a) Annelida and Arthropoda"},
    {year:"NEET/AIPMT 1988",question:"Members of Platyhelminthes are commonly called flatworms.",options:["a) Round worms","b) Flat worms","c) Blind worms","d) Tubicolous worms"],answer:"b) Flat worms"},
    {year:"NEET/AIPMT 1988",question:"Hydra bears epithelio-muscular cells in the body wall aiding movement.",options:["a) Nutritive cells","b) Epithelio-muscular cells","c) Gland cells","d) Sensory cells"],answer:"b) Epithelio-muscular cells"},
    {year:"NEET/AIPMT 1988",question:"Freshwater sponges form internal resistant bodies called gemmules.",options:["a) Gemmule","b) Planula","c) Stereoblastula","d) Amphiblastula"],answer:"a) Gemmule"},
    {year:"NEET/AIPMT 1990",question:"Nematocysts borne on Hydra tentacles aid prey capture and defence.",options:["a) Nematocysts of Hydra","b) Tentacles of Hydra","c) Zooids of Obelia","d) Tentacles of Obelia"],answer:"a) Nematocysts of Hydra"},
    {year:"NEET/AIPMT 1991/2000",question:"A suctorial mouth adapted to suck blood/fluids occurs in leech.",options:["a) Butterfly","b) Leech","c) Taenia","d) Cockroach"],answer:"b) Leech"},
    {year:"NEET/AIPMT 1998",question:"Hydraâ€™s central digestive cavity is called the gastrovascular cavity.",options:["a) Gastrovascular cavity","b) Schizocoel","c) Haemocoel","d) Pseudocoelom"],answer:"a) Gastrovascular cavity"},
    {year:"NEET/AIPMT 1990/1996/2003",question:"Clitellum in earthworm is a glandular girdle around segments 14â€“16.",options:["a) Non-glandular around 14â€“16","b) Glandular around 14â€“16","c) Glandular around 16â€“18","d) Non-glandular around 16â€“18"],answer:"b) Glandular around 14â€“16"},
    {year:"NEET/AIPMT 1990/2002/2005",question:"Primary function of clitellum is cocoon formation.",options:["a) Cocoon formation","b) Locomotion","c) Excretion","d) Copulation"],answer:"a) Cocoon formation"},
    {year:"NEET/AIPMT 2014",question:"Sea-fan (Gorgonia) lacks a cell wall and is an animal.",options:["a) Cyanobacteria","b) Sea-fan (Gorgonia)","c) Saccharomyces","d) Blue-green algae"],answer:"b) Sea-fan (Gorgonia)"},
    {year:"NEET/AIPMT 1989/1993",question:"Cockroach ventral nerve cord: three thoracic and six abdominal ganglia.",options:["a) Two thoracic + four abdominal","b) Three thoracic + six abdominal","c) Three thoracic + five abdominal","d) Two thoracic + six abdominal"],answer:"b) Three thoracic + six abdominal"},
    {year:"NEET/AIPMT 1996",question:"Bird cervical vertebrae are heterocoelous permitting neck flexibility.",options:["a) Heterocoelous","b) Acoelous","c) Opisthocoelous","d) Amphicoelous"],answer:"a) Heterocoelous"},
    {year:"NEET/AIPMT 1989/2002",question:"The intestinal region of earthworm forms a 'forest of nephridia'.",options:["a) Clitellar region","b) Pharyngeal region","c) Typhlosolar region","d) Intestinal region"],answer:"d) Intestinal region"},
    {year:"NEET/AIPMT 2015",question:"Incorrect statement: nuclear membrane is present in Monera.",options:["a) Some fungi are edible","b) Nuclear membrane is present in Monera","c) Cell wall is absent in Animalia","d) Protists may be photo-/heterotrophic"],answer:"b) Nuclear membrane is present in Monera"}
  ];
  if (!window.questionData) return;
  if (!questionData[c] || !questionData[c][ch]) return;
  if (!questionData[c][ch].questions) questionData[c][ch].questions = {};
  questionData[c][ch].questions[section] = items;
  const cs=document.getElementById('classSelect'), chs=document.getElementById('chapterSelect'), ss=document.getElementById('sectionSelect');
  if (cs?.value===c && chs?.value===ch && ss?.value===section) setTimeout(()=>{ if (typeof showQuestions==='function') showQuestions(); },100);
})();
</script>

<script>
/* ===== Addon: Section 2.6 (Viruses, Viroids, Prions, Lichens) â€” Chapter 2 only ===== */
(function() {
  const c = "11";
  const ch = "2";
  const section = "2.6";

  const items = [
    {
      year: "NEET/AIPMT 1989/1992/2000",
      question: "Lichens are highly sensitive to sulphur dioxide (SOâ‚‚) and thus serve as dependable indicators of air pollution.",
      options: [
        "a) Association alone explains their sensitivity",
        "b) They grow faster than other organisms",
        "c) They are sensitive to SOâ‚‚",
        "d) They flourish in SOâ‚‚-rich air"
      ],
      answer: "c) They are sensitive to SOâ‚‚"
    },
    {
      year: "NEET/AIPMT 1994",
      question: "The genetic material in Tobacco mosaic virus (TMV) is:",
      options: [
        "a) Single-stranded RNA",
        "b) Double-stranded DNA",
        "c) Protein only",
        "d) Double-stranded RNA"
      ],
      answer: "a) Single-stranded RNA"
    },
    {
      year: "NEET/AIPMT 2010",
      question: "The term for a complete enveloped viral particle is:",
      options: [
        "a) Capsid",
        "b) Virion",
        "c) Nucleoprotein",
        "d) Core"
      ],
      answer: "b) Virion"
    },
    {
      year: "NEET/AIPMT 2012",
      question: "Identify the correct statement regarding kingdoms and associations.",
      options: [
        "a) Paramecium and Plasmodium belong to the same kingdom as Penicillium",
        "b) Lichen is a symbiosis of an alga and a protozoan",
        "c) Yeast used in bread/beer is a fungus",
        "d) Nostoc and Anabaena are protists"
      ],
      answer: "c) Yeast used in bread/beer is a fungus"
    },
    {
      year: "NEET/AIPMT 2014",
      question: "Pick the incorrect historical pairing about subcellular pathogens.",
      options: [
        "a) Beijerinck coined â€˜contagium vivum fluidumâ€™ for viruses",
        "b) Mosaic disease and AIDS are caused by viruses",
        "c) Viroids were discovered by Ivanowsky",
        "d) W. M. Stanley crystallised viruses"
      ],
      answer: "c) Viroids were discovered by Ivanowsky"
    },
    {
      year: "NEET/AIPMT 2016",
      question: "Which statement is true for viroids?",
      options: [
        "a) They cause infections",
        "b) They contain high molecular weight RNA",
        "c) They lack a protein coat",
        "d) They are smaller than viruses"
      ],
      answer: "b) They contain high molecular weight RNA"
    },
    {
      year: "NEET/AIPMT 2017",
      question: "Viroids differ from viruses in that viroids possess:",
      options: [
        "a) DNA without protein coat",
        "b) RNA with protein coat",
        "c) RNA without protein coat",
        "d) DNA with protein coat"
      ],
      answer: "c) RNA without protein coat"
    },
    {
      year: "NEET/AIPMT 2019",
      question: "Prions are infectious agents composed of:",
      options: [
        "a) Inert crystals",
        "b) Abnormally folded proteins",
        "c) Free RNA without a protein coat",
        "d) Free DNA without a protein coat"
      ],
      answer: "b) Abnormally folded proteins"
    },
    {
      year: "NEET/AIPMT 2003",
      question: "Viruses are best described as:",
      options: [
        "a) Metabolically self-sufficient entities",
        "b) Particles containing both RNA and DNA",
        "c) Obligate intracellular parasites",
        "d) Nucleic acid referred to as capsid"
      ],
      answer: "c) Obligate intracellular parasites"
    },
    {
      year: "NEET/AIPMT 2004",
      question: "Retroviruses are characterised by the presence of the gene encoding:",
      options: [
        "a) No DNA at any stage of their life cycle",
        "b) RNA-dependent DNA polymerase",
        "c) DNA as genetic material in mature virions",
        "d) Protease only"
      ],
      answer: "b) RNA-dependent DNA polymerase"
    },
    {
      year: "NEET/AIPMT 2000/2001/2005",
      question: "Transfer of bacterial genes mediated by bacteriophages is termed:",
      options: [
        "a) Transduction",
        "b) Transcription",
        "c) Transformation",
        "d) Translation"
      ],
      answer: "a) Transduction"
    },
    {
      year: "NEET/AIPMT 2010",
      question: "Name the complete enveloped virus particle:",
      options: [
        "a) Capsid",
        "b) Virion",
        "c) Nucleoprotein",
        "d) Core"
      ],
      answer: "b) Virion"
    },
    {
      year: "NEET/AIPMT 1996",
      question: "Choose the incorrect statement on lichens:",
      options: [
        "a) Some species are food for reindeers",
        "b) Lichens serve as pollution indicators",
        "c) They grow rapidly at ~2 cm per day",
        "d) They represent a symbiosis of an alga and a fungus"
      ],
      answer: "c) They grow rapidly at ~2 cm per day"
    },
    {
      year: "NEET/AIPMT 2001",
      question: "The genome of Cauliflower mosaic virus (CaMV) is:",
      options: [
        "a) Single-stranded RNA",
        "b) Double-stranded RNA",
        "c) Double-stranded DNA",
        "d) Single-stranded DNA"
      ],
      answer: "c) Double-stranded DNA"
    },
    {
      year: "NEET/AIPMT 2003",
      question: "Approximate size of a TMV particle is:",
      options: [
        "a) 300 Ã— 10 nm",
        "b) 300 Ã— 5 nm",
        "c) 300 Ã— 20 nm",
        "d) 700 Ã— 30 nm"
      ],
      answer: "c) 300 Ã— 20 nm"
    },
    {
      year: "NEET/AIPMT 1997",
      question: "Viruses contain as genetic material:",
      options: [
        "a) Ribosomes for protein synthesis",
        "b) Organelles for metabolism",
        "c) Either DNA or RNA",
        "d) Both DNA and RNA together"
      ],
      answer: "c) Either DNA or RNA"
    },
    {
      year: "NEET/AIPMT 2005",
      question: "In a lichen, the fungal partner primarily:",
      options: [
        "a) Provides food to the alga",
        "b) Provides protection, anchorage, and absorbs water/minerals",
        "c) Fixes atmospheric nitrogen",
        "d) Releases oxygen"
      ],
      answer: "b) Provides protection, anchorage, and absorbs water/minerals"
    },
    {
      year: "NEET/AIPMT 2012",
      question: "Which statement correctly applies to viruses?",
      options: [
        "a) All viruses are parasites",
        "b) All viruses have helical symmetry",
        "c) They possess helical symmetry invariably",
        "d) Antibiotics have no effect on viruses"
      ],
      answer: "d) Antibiotics have no effect on viruses"
    },
    {
      year: "NEET/AIPMT 2009",
      question: "Viroids were discovered by:",
      options: [
        "a) Discoverer of free infectious DNA",
        "b) Discoverer of infectious protein",
        "c) Discoverer of bacteriophage",
        "d) T. O. Diener (free infectious RNA)"
      ],
      answer: "d) T. O. Diener (free infectious RNA)"
    },
    {
      year: "NEET/AIPMT 2010",
      question: "In a typical tailed bacteriophage, the correct order of labelled parts is:",
      options: [
        "a) Tail fibres; Head; Sheath; Collar",
        "b) Sheath; Collar; Head; Tail fibres",
        "c) Head; Sheath; Collar; Tail fibres",
        "d) Collar; Tail fibres; Head; Sheath"
      ],
      answer: "c) Head; Sheath; Collar; Tail fibres"
    }
  ];

  if (!window.questionData) return;
  if (!questionData[c] || !questionData[c][ch]) return;
  if (!questionData[c][ch].questions) questionData[c][ch].questions = {};

  // Replace 2.6 entirely with these items
  questionData[c][ch].questions[section] = items;

  // If currently viewing 2.6, refresh the display
  const classSelect = document.getElementById('classSelect');
  const chapterSelect = document.getElementById('chapterSelect');
  const sectionSelect = document.getElementById('sectionSelect');
  if (classSelect?.value === c && chapterSelect?.value === ch && sectionSelect?.value === section) {
    setTimeout(() => { if (typeof showQuestions === 'function') showQuestions(); }, 100);
  }
})();
</script>
<script>
/* Fix: Ensure sections 2.2â€“2.6 display immediately and are not cleared afterward */
(function () {
  function safeShowFirstSection() {
    const classSelect = document.getElementById('classSelect');
    const chapterSelect = document.getElementById('chapterSelect');
    const sectionSelect = document.getElementById('sectionSelect');
    if (!classSelect || !chapterSelect || !sectionSelect) return;

    const c = classSelect.value;
    const ch = chapterSelect.value;

    if (!c || !ch) return;

    const chapter = (window.questionData && questionData[c] && questionData[c][ch]) || null;
    if (!chapter) return;

    // Populate sections from chapter data if not already
    const sections = chapter.sections || [];
    if (sectionSelect.options.length === 0 && sections.length > 0) {
      sectionSelect.disabled = false;
      sectionSelect.innerHTML = '';
      sections.forEach(s => {
        const opt = document.createElement('option');
        opt.value = s.id;
        opt.textContent = `${s.id}: ${s.name}`;
        sectionSelect.appendChild(opt);
      });
    }

    // Auto-select first section and render questions
    if (sectionSelect.options.length > 0) {
      sectionSelect.selectedIndex = 0;
      sectionSelect.value = sectionSelect.options[0].value;
      if (typeof showQuestions === 'function') {
        showQuestions();
      }
    }
  }

  // Override updateSections to avoid clearing after rendering
  const originalUpdateSections = window.updateSections;
  window.updateSections = function () {
    const contentArea = document.getElementById('contentArea');
    const sectionSelect = document.getElementById('sectionSelect');
    const chapterSelect = document.getElementById('chapterSelect');

    // Clear early (before we render), not after
    if (contentArea) {
      contentArea.innerHTML = '<div class="no-questions">Please select Class, Chapter, and Section to view questions.</div>';
    }
    if (sectionSelect) {
      sectionSelect.disabled = true;
      sectionSelect.innerHTML = '<option value="">Select Section</option>';
    }

    // Call original to rebuild chapter and section list
    if (typeof originalUpdateSections === 'function') {
      try { originalUpdateSections(); } catch (e) { /* no-op */ }
    }

    // If a chapter is chosen, fill and show first section
    if (chapterSelect && chapterSelect.value) {
      setTimeout(safeShowFirstSection, 50);
    }
  };

  // If addons ran before questionData existed, retry when DOM and data are ready
  function waitForDataAndRender(attemptsLeft = 40) {
    const classSelect = document.getElementById('classSelect');
    const chapterSelect = document.getElementById('chapterSelect');
    const sectionSelect = document.getElementById('sectionSelect');

    const dataReady =
      window.questionData &&
      questionData["11"] &&
      questionData["11"]["2"] &&
      questionData["11"]["2"].questions &&
      (questionData["11"]["2"].questions["2.2"] ||
       questionData["11"]["2"].questions["2.3"] ||
       questionData["11"]["2"].questions["2.4"] ||
       questionData["11"]["2"].questions["2.5"] ||
       questionData["11"]["2"].questions["2.6"]);

    if (!dataReady) {
      if (attemptsLeft <= 0) return;
      return setTimeout(() => waitForDataAndRender(attemptsLeft - 1), 100);
    }

    // If user is already at Class 11, Chapter 2, re-render the first section immediately
    if (classSelect && chapterSelect && sectionSelect) {
      if (classSelect.value === "11" && chapterSelect.value === "2") {
        safeShowFirstSection();
      }
    }
  }

  if (document.readyState === 'loading') {
    document.addEventListener('DOMContentLoaded', () => waitForDataAndRender(), { once: true });
  } else {
    waitForDataAndRender();
  }
})();
</script>

</body>
</html>
