<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NEET-PYQ</title>
<style>
  body {
    font-family: 'Montserrat', Arial, sans-serif;
    margin: 0;
    padding: 20px 24px;
    background-color: #f9fafb;
    color: #1f2937;
    overflow-x: hidden;
  }
  .header {
    text-align: left;
    background-color: #023047;
    color: #ffb347;
    padding: 48px 24px 32px 24px;
    border-radius: 10px;
    margin-bottom: 32px;
    position: relative;
    overflow: hidden;
  }
  .header::before {
    content: '';
    position: absolute;
    top: -50%;
    left: -50%;
    width: 200%;
    height: 200%;
    background: radial-gradient(circle at center, #4f59b0 0%, transparent 70%);
    opacity: 0.3;
    pointer-events: none;
  }
  .header h1 {
    position: relative;
    margin: 0 0 12px 0;
    font-size: 3rem;
    font-weight: 900;
    letter-spacing: 2px;
    line-height: 1.1;
    transform: none !important;
    color: #ffa726;
    max-width: 100%;
    white-space: nowrap;
  }
  .header .subtitle {
    position: relative;
    font-size: 18px;
    font-weight: 600;
    color: #b9fbc0;
    letter-spacing: 0.6px;
  }
  .note {
    max-width: 720px;
    margin: 0 auto 24px auto;
    font-style: italic;
    font-size: 14px;
    color: #4b6650;
    background-color: #d7e7d0;
    border-left: 6px solid #a8c77a;
    padding: 12px 20px;
    border-radius: 8px;
  }
  .controls {
    display: flex;
    flex-wrap: wrap;
    gap: 18px;
    margin-bottom: 16px;
    justify-content: center;
    align-items: center;
  }
  .class-reload-group {
    display: flex;
    gap: 8px;
    align-items: flex-end;
    min-width: 180px;
    flex: 1;
  }
  .dropdown-group {
    min-width: 180px;
    flex: 1;
  }
  .class-dropdown-part {
    flex: 1;
  }
  label {
    display: block;
    font-weight: 700;
    font-size: 15px;
    margin-bottom: 6px;
    color: #344e41;
  }
  select {
    width: 100%;
    padding: 10px 14px;
    border-radius: 8px;
    border: 2px solid #028090;
    font-size: 15px;
    background-color: #ffffff;
    color: #023047;
    transition: 0.3s;
  }
  select:focus {
    outline: none;
    border-color: #023047;
    background-color: #e0f7f4;
  }
  .reload-btn {
    cursor: pointer;
    background-color: #8b5cf6;
    border: none;
    color: #fff;
    padding: 8px 12px;
    border-radius: 6px;
    font-weight: 700;
    font-size: 12px;
    transition: background-color 0.3s ease;
    display: flex;
    align-items: center;
    gap: 4px;
    height: 36px;
    white-space: nowrap;
  }
  .reload-btn:hover {
    background-color: #7c3aed;
  }
  #scoreWrapper {
    display: flex;
    align-items: center;
    margin-left: 12px;
  }
  #scoreCard {
    display: flex;
    align-items: center;
    font-weight: 700;
    font-size: 18px;
    color: #116466;
    border-left: 5px solid #028090;
    padding-left: 14px;
    white-space: nowrap;
  }
  .refreshBtn {
    cursor: pointer;
    background-color: #0d6efd;
    border: none;
    color: #fff;
    padding: 4px 10px;
    border-radius: 7px;
    font-weight: 700;
    font-size: 13px;
    transition: background-color 0.3s ease;
    margin-left: 8px;
    height: 32px;
    line-height: 24px;
    display: flex;
    align-items: center;
    gap: 4px;
  }
  .refreshBtn:hover {
    background-color: #084298;
  }
  .content-area {
    background-color: #fff1e0;
    padding: 28px 30px;
    border-radius: 12px;
    min-height: 300px;
    color: #1f2937;
    transition: background-color 0.4s ease;
    max-width: 900px;
    margin: 0 auto 30px auto;
  }
  .question-count {
    font-weight: 700;
    font-size: 18px;
    color: #116466;
    margin-bottom: 18px;
    border-left: 5px solid #028090;
    padding-left: 14px;
  }
  .question-item {
    background-color: #fff8f0;
    border-radius: 12px;
    border: 1.5px solid #f0c49c;
    margin-bottom: 26px;
    padding: 20px 24px;
    font-size: 15px;
    max-width: 100%;
    position: relative;
  }
  .question-header {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 14px;
    gap: 12px;
    flex-wrap: wrap;
  }
  .question-number {
    font-weight: 700;
    font-size: 18px;
    color: #2a6f62;
  }
  .question-year {
    background-color: #116466;
    color: #e0f7f4;
    padding: 5px 14px;
    border-radius: 16px;
    font-weight: 600;
    font-size: 13px;
    letter-spacing: 0.6px;
    white-space: nowrap;
  }
  .question-text {
    font-weight: 600;
    font-size: 15px;
    color: #255c4d;
    margin-bottom: 14px;
    max-width: 100%;
    word-wrap: break-word;
    word-break: break-word;
  }
  .options {
    margin-bottom: 18px;
  }
  .option {
    background-color: #ffffff;
    border-radius: 6px;
    border: 1.8px solid #b5d0c8;
    padding: 11px 18px;
    margin: 8px 0;
    font-weight: 500;
    font-size: 15px;
    color: #244636;
    cursor: pointer;
    transition: background-color 0.3s, border-color 0.3s, color 0.3s;
    user-select: none;
    position: relative;
    overflow: visible;
  }
  .option:hover:not(.disabled) {
    background-color: #dceddb;
    border-color: #71b280;
  }
  .option.correct-temp {
    background-color: rgba(25, 135, 84, 0.15);
    border-color: rgba(25, 135, 84, 0.3);
    color: #2e7d32;
  }
  .option.incorrect-temp {
    background-color: rgba(220, 53, 69, 0.15);
    border-color: rgba(220, 53, 69, 0.3);
    color: #b02a37;
  }
  .option.disabled {
    cursor: default;
    opacity: 0.8;
  }
  .answer-popup {
    position: absolute;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    display: flex;
    opacity: 0.95;
    align-items: center;
    justify-content: center;
    font-size: 1.5rem;
    font-weight: 900;
    border-radius: 6px;
    z-index: 5;
    pointer-events: none;
    animation: popup-fade 1.2s forwards;
  }
  .answer-popup.correct {
    background-color: rgba(25, 135, 84, 0.25);
    color: #18763b;
  }
  .answer-popup.incorrect {
    background-color: rgba(220, 53, 69, 0.2);
    color: #b02a37;
  }
  @keyframes popup-fade {
    0% { opacity: 0; }
    10% { opacity: 1;}
    80% { opacity: 0.95;}
    100% { opacity: 0; }
  }
  .button-group {
    display: flex;
    gap: 14px;
    flex-wrap: wrap;
    margin-bottom: 8px;
  }
  .btn {
    padding: 11px 18px;
    border: none;
    border-radius: 7px;
    cursor: pointer;
    font-weight: 700;
    font-size: 15px;
    color: #f0f0f0;
    transition: background-color 0.3s ease;
  }
  .btn-answer {
    background-color: #198754;
  }
  .btn-answer:hover {
    background-color: #146c43;
  }
  .btn-copy {
    background-color: #0d6efd;
  }
  .btn-copy:hover {
    background-color: #084298;
  }
  .btn-chatgpt {
    background-color: #ff0000;
  }
  .btn-chatgpt:hover {
    background-color: #cc0000;
  }
  .answer-reveal {
    display: none;
    margin-top: 14px;
    background: #c7ddfa;
    border: 2px solid #3b82f6;
    border-radius: 10px;
    color: #1e40af;
    padding: 14px 18px;
    font-weight: 700;
  }
  .tick-cross-popup {
    position: fixed;
    top: 50%;
    left: 50%;
    transform: translate(-50%, -50%);
    font-size: 80px;
    font-weight: 900;
    z-index: 1000;
    pointer-events: none;
    animation: tick-cross-fade 1.5s forwards;
  }
  .tick-cross-popup.correct {
    color: #198754;
  }
  .tick-cross-popup.incorrect {
    color: #dc3545;
  }
  @keyframes tick-cross-fade {
    0% { opacity: 0; transform: translate(-50%, -50%) scale(0.5); }
    20% { opacity: 1; transform: translate(-50%, -50%) scale(1.2); }
    40% { opacity: 1; transform: translate(-50%, -50%) scale(1); }
    100% { opacity: 0; transform: translate(-50%, -50%) scale(1); }
  }
  .no-questions {
    text-align: center;
    font-style: italic;
    color: #4a5768;
    font-size: 17px;
    padding: 48px 10px;
  }
  @media (max-width: 900px) {
    .controls { 
      flex-direction: column; 
      align-items: stretch;
    }
    .dropdown-group { 
      min-width: unset; 
      width: 100%;
    }
    .class-reload-group {
      min-width: unset;
      width: 100%;
      flex-direction: row;
    }
    .class-dropdown-part {
      flex: 1;
    }
    .reload-btn {
      margin-left: 8px;
      flex-shrink: 0;
    }
    .header h1 {
      padding-left: 8px;
      padding-right: 8px;
      margin-left: 0;
      max-width: 320px;
      white-space: normal;
    }
    .content-area {
      max-width: 100%;
      padding: 20px 16px;
      min-height: 300px;
    }
    .question-item {
      max-width: 100%;
      padding: 18px 12px;
    }
    .question-text {
      font-size: 15px;
    }
  }
</style>
</head>
<body>
<div class="header" role="banner">
  <h1>NEET-PYQ</h1>
  <div class="subtitle">NEET/AIPMT Biology Section Wise Analysis (1988-2025)</div>
</div>

<div class="note" role="note">
  <em>Note: Some questions from a particular section may appear in subsequent sections if the concept spans multiple areas.</em>
</div>

<div class="controls" role="region" aria-label="Filtering controls">
  <div class="class-reload-group">
    <div class="class-dropdown-part">
      <label for="classSelect">Class:</label>
      <select id="classSelect" aria-controls="chapterSelect sectionSelect" onchange="updateChapters()" aria-required="true">
        <option value="">Select Class</option>
        <option value="11">Class 11</option>
        <option value="12">Class 12</option>
      </select>
    </div>
    <button id="reloadBtn" class="reload-btn" onclick="window.location.reload()">
      ↻ Reload
    </button>
  </div>
  <div class="dropdown-group">
    <label for="chapterSelect">Chapter:</label>
    <select id="chapterSelect" aria-controls="sectionSelect" onchange="updateSections()" disabled aria-required="true">
      <option value="">Select Chapter</option>
    </select>
  </div>
  <div class="dropdown-group">
    <label for="sectionSelect">Section:</label>
    <select id="sectionSelect" onchange="showQuestions()" disabled aria-required="true">
      <option value="">Select Section</option>
    </select>
  </div>
  <div id="scoreWrapper">
    <div id="scoreCard" class="scoreCard" aria-live="polite" role="region" aria-atomic="true" tabindex="0">
      Section score: x / y
    </div>
    <button id="refreshChapterBtn" class="refreshBtn" aria-label="Refresh chapter score">
      <span>🔄</span> Refresh
    </button>
  </div>
</div>

<main class="content-area" id="contentArea" role="main" tabindex="-1">
  <div class="no-questions">Please select Class, Chapter, and Section to view questions.</div>
</main>

<script>
  const questionData = {
    "11": {
      "1": {
        title: "The Living World", 
        sections: [
          {id: "1.0", name: "Introduction to Biology and Living Organisms"},
          {id: "1.1", name: "Diversity in the Living World"},
          {id: "1.2", name: "Taxonomic Categories"}
        ], 
        questions: {}
      },
      "2": {
        title: "Biological Classification", 
        sections: [
          {id: "2.0", name: "Evolution of Classification Systems"},
          {id: "2.1", name: "Kingdom Monera"},
          {id: "2.2", name: "Kingdom Protista"},
          {id: "2.3", name: "Kingdom Fungi"},
          {id: "2.4", name: "Kingdom Plantae"},
          {id: "2.5", name: "Kingdom Animalia"},
          {id: "2.6", name: "Viruses, Viroids, Prions and Lichens"}
        ], 
        questions: {}
      },
      "3": {
        title: "Plant Kingdom", 
        sections: [
          {id: "3.0", name: "Understanding Plant Kingdom and Classification Systems"},
          {id: "3.1", name: "Algae"},
          {id: "3.2", name: "Bryophytes"},
          {id: "3.3", name: "Pteridophytes"},
          {id: "3.4", name: "Gymnosperms"},
          {id: "3.5", name: "Angiosperms"}
        ], 
        questions: {}
      },
      "4": {
        title: "Animal Kingdom", 
        sections: [
          {id: "4.0", name: "Animal Diversity and Classification Basis"},
          {id: "4.1", name: "Basis of Classification"},
          {id: "4.2", name: "Classification of Animals"}
        ], 
        questions: {}
      },
      "5": {
        title: "Morphology of Flowering Plants", 
        sections: [
          {id: "5.0", name: "External Structure and Variations in Plants"},
          {id: "5.1", name: "The Root"},
          {id: "5.2", name: "The Stem"},
          {id: "5.3", name: "The Leaf"},
          {id: "5.4", name: "The Inflorescence"},
          {id: "5.5", name: "The Flower"},
          {id: "5.6", name: "The Fruit"},
          {id: "5.7", name: "The Seed"},
          {id: "5.8", name: "Semi-technical Description of a Typical Flowering Plant"},
          {id: "5.9", name: "Description of Some Important Families"}
        ], 
        questions: {}
      },
      "6": {
        title: "Anatomy of Flowering Plants", 
        sections: [
          {id: "6.0", name: "Internal Structure and Functional Organisation"},
          {id: "6.1", name: "The Tissue System"},
          {id: "6.2", name: "Anatomy of Dicotyledonous and Monocotyledonous Plants"}
        ], 
        questions: {}
      },
      "7": {
        title: "Structural Organisation in Animals", 
        sections: [
          {id: "7.0", name: "Multicellular Organisation and Organ Systems"},
          {id: "7.1", name: "Organ and Organ System"},
          {id: "7.2", name: "Frogs"}
        ], 
        questions: {}
      },
      "8": {
        title: "Cell - The Unit of Life", 
        sections: [
          {id: "8.0", name: "Cell Theory and Cellular Organisation"},
          {id: "8.1", name: "What is a Cell?"},
          {id: "8.2", name: "Cell Theory"},
          {id: "8.3", name: "An Overview of Cell"},
          {id: "8.4", name: "Prokaryotic Cells"},
          {id: "8.5", name: "Eukaryotic Cells"}
        ], 
        questions: {}
      },
      "9": {
        title: "Biomolecules", 
        sections: [
          {id: "9.0", name: "Chemical Composition of Living Organisms"},
          {id: "9.1", name: "How to Analyse Chemical Composition?"},
          {id: "9.2", name: "Primary and Secondary Metabolites"},
          {id: "9.3", name: "Biomacromolecules"},
          {id: "9.4", name: "Proteins"},
          {id: "9.5", name: "Polysaccharides"},
          {id: "9.6", name: "Nucleic Acids"},
          {id: "9.7", name: "Structure of Proteins"},
          {id: "9.8", name: "Enzymes"}
        ], 
        questions: {}
      },
      "10": {
        title: "Cell Cycle and Cell Division", 
        sections: [
          {id: "10.0", name: "Cell Growth and Reproduction"},
          {id: "10.1", name: "Cell Cycle"},
          {id: "10.2", name: "M Phase"},
          {id: "10.3", name: "Significance of Mitosis"},
          {id: "10.4", name: "Meiosis"},
          {id: "10.5", name: "Significance of Meiosis"}
        ], 
        questions: {}
      },
      "11": {
        title: "Photosynthesis in Higher Plants", 
        sections: [
          {id: "11.0", name: "Plant Metabolism and Energy Conversion"},
          {id: "11.1", name: "What do we Know?"},
          {id: "11.2", name: "Early Experiments"},
          {id: "11.3", name: "Where does Photosynthesis take place?"},
          {id: "11.4", name: "How many Pigments are involved in Photosynthesis?"},
          {id: "11.5", name: "What is Light Reaction?"},
          {id: "11.6", name: "The Electron Transport"},
          {id: "11.7", name: "Where are the ATP and NADPH Used?"},
          {id: "11.8", name: "The C₄ Pathway"},
          {id: "11.9", name: "Photorespiration"},
          {id: "11.10", name: "Factors affecting Photosynthesis"}
        ], 
        questions: {}
      },
      "12": {
        title: "Respiration in Plants", 
        sections: [
          {id: "12.0", name: "Energy Requirements in Living Organisms"},
          {id: "12.1", name: "Do Plants Breathe?"},
          {id: "12.2", name: "Glycolysis"},
          {id: "12.3", name: "Fermentation"},
          {id: "12.4", name: "Aerobic Respiration"},
          {id: "12.5", name: "The Respiratory Balance Sheet"},
          {id: "12.6", name: "Amphibolic Pathway"},
          {id: "12.7", name: "Respiratory Quotient"}
        ], 
        questions: {}
      },
      "13": {
        title: "Plant Growth and Development", 
        sections: [
          {id: "13.0", name: "Growth Patterns and Development in Plants"},
          {id: "13.1", name: "Growth"},
          {id: "13.2", name: "Differentiation, Dedifferentiation and Redifferentiation"},
          {id: "13.3", name: "Development"},
          {id: "13.4", name: "Plant Growth Regulators"}
        ], 
        questions: {}
      },
      "14": {
        title: "Breathing and Exchange of Gases", 
        sections: [
          {id: "14.0", name: "Coordination and Homeostasis in Human Body"},
          {id: "14.1", name: "Respiratory Organs"},
          {id: "14.2", name: "Mechanism of Breathing"},
          {id: "14.3", name: "Exchange of Gases"},
          {id: "14.4", name: "Transport of Gases"},
          {id: "14.5", name: "Regulation of Respiration"},
          {id: "14.6", name: "Disorders of Respiratory System"}
        ], 
        questions: {}
      },
      "15": {
        title: "Body Fluids and Circulation", 
        sections: [
          {id: "15.0", name: "Transport of Materials in Living Organisms"},
          {id: "15.1", name: "Blood"},
          {id: "15.2", name: "Lymph (Tissue Fluid)"},
          {id: "15.3", name: "Circulatory Pathways"},
          {id: "15.4", name: "Double Circulation"},
          {id: "15.5", name: "Regulation of Cardiac Activity"},
          {id: "15.6", name: "Disorders of Circulatory System"}
        ], 
        questions: {}
      },
      "16": {
        title: "Excretory Products and their Elimination", 
        sections: [
          {id: "16.0", name: "Waste Removal and Homeostasis"},
          {id: "16.1", name: "Human Excretory System"},
          {id: "16.2", name: "Urine Formation"},
          {id: "16.3", name: "Function of the Tubules"},
          {id: "16.4", name: "Mechanism of Concentration of the Filtrate"},
          {id: "16.5", name: "Regulation of Kidney Function"},
          {id: "16.6", name: "Micturition"},
          {id: "16.7", name: "Role of other Organs in Excretion"},
          {id: "16.8", name: "Disorders of the Excretory System"}
        ], 
        questions: {}
      },
      "17": {
        title: "Locomotion and Movement", 
        sections: [
          {id: "17.0", name: "Movement as a Characteristic of Life"},
          {id: "17.1", name: "Types of Movement"},
          {id: "17.2", name: "Muscle"},
          {id: "17.3", name: "Skeletal System"},
          {id: "17.4", name: "Joints"},
          {id: "17.5", name: "Disorders of Muscular and Skeletal System"}
        ], 
        questions: {}
      },
      "18": {
        title: "Neural Control and Coordination", 
        sections: [
          {id: "18.0", name: "Coordination and Integration in Multicellular Organisms"},
          {id: "18.1", name: "Neural System"},
          {id: "18.2", name: "Human Neural System"},
          {id: "18.3", name: "Neuron as Structural and Functional Unit of Neural System"},
          {id: "18.4", name: "Central Neural System"}
        ], 
        questions: {}
      },
      "19": {
        title: "Chemical Coordination and Integration", 
        sections: [
          {id: "19.0", name: "Endocrine System and Hormonal Coordination"},
          {id: "19.1", name: "Endocrine Glands and Hormones"},
          {id: "19.2", name: "Human Endocrine System"},
          {id: "19.3", name: "Hormones of Heart, Kidney and Gastrointestinal Tract"},
          {id: "19.4", name: "Mechanism of Hormone Action"}
        ], 
        questions: {}
      }
    },
    "12": {
      "1": {
        title: "Sexual Reproduction in Flowering Plants", 
        sections: [
          {id: "1.0", name: "Reproduction as a Vital Life Process"},
          {id: "1.1", name: "Flower - A Fascinating Organ of Angiosperms"},
          {id: "1.2", name: "Pre-fertilisation: Structures and Events"},
          {id: "1.3", name: "Double Fertilisation"},
          {id: "1.4", name: "Post-fertilisation: Structures and Events"},
          {id: "1.5", name: "Apomixis and Polyembryony"}
        ], 
        questions: {}
      },
      "2": {
        title: "Human Reproduction", 
        sections: [
          {id: "2.0", name: "Sexual Reproduction in Humans"},
          {id: "2.1", name: "The Male Reproductive System"},
          {id: "2.2", name: "The Female Reproductive System"},
          {id: "2.3", name: "Gametogenesis"},
          {id: "2.4", name: "Menstrual Cycle"},
          {id: "2.5", name: "Fertilisation and Implantation"},
          {id: "2.6", name: "Pregnancy and Embryonic Development"},
          {id: "2.7", name: "Parturition and Lactation"}
        ], 
        questions: {}
      },
      "3": {
        title: "Reproductive Health", 
        sections: [
          {id: "3.0", name: "Reproductive Health and Well-being"},
          {id: "3.1", name: "Reproductive Health – Problems and Strategies"},
          {id: "3.2", name: "Population Stabilisation and Birth Control"},
          {id: "3.3", name: "Medical Termination of Pregnancy"},
          {id: "3.4", name: "Sexually Transmitted Infections (STIs)"},
          {id: "3.5", name: "Infertility"}
        ], 
        questions: {}
      },
      "4": {
        title: "Principles of Inheritance and Variation", 
        sections: [
          {id: "4.0", name: "Heredity and Genetic Basis of Inheritance"},
          {id: "4.1", name: "Mendel's Laws of Inheritance"},
          {id: "4.2", name: "Inheritance of One Gene"},
          {id: "4.3", name: "Inheritance of Two Genes"},
          {id: "4.4", name: "Sex Determination"},
          {id: "4.5", name: "Mutation"},
          {id: "4.6", name: "Genetic Disorders"}
        ], 
        questions: {}
      },
      "5": {
        title: "Molecular Basis of Inheritance", 
        sections: [
          {id: "5.0", name: "Genetic Material and Molecular Biology"},
          {id: "5.1", name: "The DNA"},
          {id: "5.2", name: "The Search for Genetic Material"},
          {id: "5.3", name: "RNA World"},
          {id: "5.4", name: "Replication"},
          {id: "5.5", name: "Transcription"},
          {id: "5.6", name: "Genetic Code"},
          {id: "5.7", name: "Translation"},
          {id: "5.8", name: "Regulation of Gene Expression"},
          {id: "5.9", name: "Human Genome Project"},
          {id: "5.10", name: "DNA Fingerprinting"}
        ], 
        questions: {}
      },
      "6": {
        title: "Evolution", 
        sections: [
          {id: "6.0", name: "History of Life Forms and Evolutionary Biology"},
          {id: "6.1", name: "Origin of Life"},
          {id: "6.2", name: "Evolution of Life Forms – A Theory"},
          {id: "6.3", name: "What are the Evidences for Evolution?"},
          {id: "6.4", name: "What is Adaptive Radiation?"},
          {id: "6.5", name: "Biological Evolution"},
          {id: "6.6", name: "Mechanism of Evolution"},
          {id: "6.7", name: "Hardy-Weinberg Principle"},
          {id: "6.8", name: "A Brief Account of Evolution"},
          {id: "6.9", name: "Origin and Evolution of Man"}
        ], 
        questions: {}
      },
      "7": {
        title: "Human Health and Disease", 
        sections: [
          {id: "7.0", name: "Biology and Human Welfare Applications"},
          {id: "7.1", name: "Common Diseases in Humans"},
          {id: "7.2", name: "Immunity"},
          {id: "7.3", name: "AIDS"},
          {id: "7.4", name: "Cancer"},
          {id: "7.5", name: "Drugs and Alcohol Abuse"}
        ], 
        questions: {}
      },
      "8": {
        title: "Microbes in Human Welfare", 
        sections: [
          {id: "8.0", name: "Microbial Diversity and Applications"},
          {id: "8.1", name: "Microbes in Household Products"},
          {id: "8.2", name: "Microbes in Industrial Products"},
          {id: "8.3", name: "Microbes in Sewage Treatment"},
          {id: "8.4", name: "Microbes in Production of Biogas"},
          {id: "8.5", name: "Microbes as Biocontrol Agents"},
          {id: "8.6", name: "Microbes as Biofertilisers"}
        ], 
        questions: {}
      },
      "9": {
        title: "Biotechnology - Principles and Processes", 
        sections: [
          {id: "9.0", name: "Biotechnology and Genetic Engineering"},
          {id: "9.1", name: "Principles of Biotechnology"},
          {id: "9.2", name: "Tools of Recombinant DNA Technology"},
          {id: "9.3", name: "Processes of Recombinant DNA Technology"}
        ], 
        questions: {}
      },
      "10": {
        title: "Biotechnology and its Applications", 
        sections: [
          {id: "10.0", name: "Biotechnology Applications and Human Welfare"},
          {id: "10.1", name: "Biotechnological Applications in Agriculture"},
          {id: "10.2", name: "Biotechnological Applications in Medicine"},
          {id: "10.3", name: "Transgenic Animals"},
          {id: "10.4", name: "Ethical Issues"}
        ], 
        questions: {}
      },
      "11": {
        title: "Organisms and Populations", 
        sections: [
          {id: "11.0", name: "Ecological Perspective and Biological Understanding"},
          {id: "11.1", name: "Populations"}
        ], 
        questions: {}
      },
      "12": {
        title: "Ecosystem", 
        sections: [
          {id: "12.0", name: "Ecosystem as a Functional Unit of Nature"},
          {id: "12.1", name: "Ecosystem – Structure and Function"},
          {id: "12.2", name: "Productivity"},
          {id: "12.3", name: "Decomposition"},
          {id: "12.4", name: "Energy Flow"},
          {id: "12.5", name: "Ecological Pyramids"}
        ], 
        questions: {}
      },
      "13": {
        title: "Biodiversity and Conservation", 
        sections: [
          {id: "13.0", name: "Life's Diversity and Conservation Challenges"},
          {id: "13.1", name: "Biodiversity"},
          {id: "13.2", name: "Biodiversity Conservation"}
        ], 
        questions: {}
      }
    }
  };

  const chapterData = {
    "11": [
      {id:"1",name:"The Living World"},
      {id:"2",name:"Biological Classification"},
      {id:"3",name:"Plant Kingdom"},
      {id:"4",name:"Animal Kingdom"},
      {id:"5",name:"Morphology of Flowering Plants"},
      {id:"6",name:"Anatomy of Flowering Plants"},
      {id:"7",name:"Structural Organisation in Animals"},
      {id:"8",name:"Cell - The Unit of Life"},
      {id:"9",name:"Biomolecules"},
      {id:"10",name:"Cell Cycle and Cell Division"},
      {id:"11",name:"Photosynthesis in Higher Plants"},
      {id:"12",name:"Respiration in Plants"},
      {id:"13",name:"Plant Growth and Development"},
      {id:"14",name:"Breathing and Exchange of Gases"},
      {id:"15",name:"Body Fluids and Circulation"},
      {id:"16",name:"Excretory Products and their Elimination"},
      {id:"17",name:"Locomotion and Movement"},
      {id:"18",name:"Neural Control and Coordination"},
      {id:"19",name:"Chemical Coordination and Integration"}
    ],
    "12": [
      {id:"1",name:"Sexual Reproduction in Flowering Plants"},
      {id:"2",name:"Human Reproduction"},
      {id:"3",name:"Reproductive Health"},
      {id:"4",name:"Principles of Inheritance and Variation"},
      {id:"5",name:"Molecular Basis of Inheritance"},
      {id:"6",name:"Evolution"},
      {id:"7",name:"Human Health and Disease"},
      {id:"8",name:"Microbes in Human Welfare"},
      {id:"9",name:"Biotechnology - Principles and Processes"},
      {id:"10",name:"Biotechnology and its Applications"},
      {id:"11",name:"Organisms and Populations"},
      {id:"12",name:"Ecosystem"},
      {id:"13",name:"Biodiversity and Conservation"}
    ]
  };

  // Use localStorage for persistent scores
  let cumulativeScores = {};
  let answeredQuestionsByChapter = {};
  let answeredQuestionsBySection = {};

  function saveScores() {
    localStorage.setItem('cumulativeScores', JSON.stringify(cumulativeScores));
    localStorage.setItem('answeredQuestionsByChapter', JSON.stringify(answeredQuestionsByChapter));
    localStorage.setItem('answeredQuestionsBySection', JSON.stringify(answeredQuestionsBySection));
  }
  function loadScores() {
    const cs = localStorage.getItem('cumulativeScores');
    const aqbc = localStorage.getItem('answeredQuestionsByChapter');
    const aqbs = localStorage.getItem('answeredQuestionsBySection');
    cumulativeScores = cs ? JSON.parse(cs) : {};
    answeredQuestionsByChapter = aqbc ? JSON.parse(aqbc) : {};
    answeredQuestionsBySection = aqbs ? JSON.parse(aqbs) : {};
  }
  loadScores();

  function getScore(classId, chapterId) {
    if (cumulativeScores[classId] && cumulativeScores[classId][chapterId]) {
      return cumulativeScores[classId][chapterId];
    }
    return null;
  }

  function initScore(classId, chapterId, totalQuestions) {
    if (!cumulativeScores[classId]) cumulativeScores[classId] = {};
    if (!cumulativeScores[classId][chapterId]) {
      cumulativeScores[classId][chapterId] = {
        correct: 0,
        total: totalQuestions
      };
    } else {
      cumulativeScores[classId][chapterId].total = totalQuestions;
    }
    saveScores();
  }

  function resetAllChapterScores(classId) {
    if (!cumulativeScores[classId]) return;
    Object.keys(cumulativeScores[classId]).forEach(chapId => {
      cumulativeScores[classId][chapId].correct = 0;
    });
    if (answeredQuestionsByChapter[classId]) {
      Object.keys(answeredQuestionsByChapter[classId]).forEach(chapId => {
        answeredQuestionsByChapter[classId][chapId] = {};
      });
    }
    answeredQuestionsBySection = {};
    saveScores();
  }

  function markQuestionAnswered(classId, chapterId, sectionKey, questionKey, correct) {
    if (!answeredQuestionsByChapter[classId]) answeredQuestionsByChapter[classId] = {};
    if (!answeredQuestionsByChapter[classId][chapterId]) answeredQuestionsByChapter[classId][chapterId] = {};
    if (!answeredQuestionsBySection[sectionKey]) answeredQuestionsBySection[sectionKey] = {};

    let prevCorrectSection = answeredQuestionsBySection[sectionKey][questionKey];
    if (prevCorrectSection === undefined) {
      answeredQuestionsBySection[sectionKey][questionKey] = correct;
    } else {
      answeredQuestionsBySection[sectionKey][questionKey] = correct;
    }

    let prevCorrect = answeredQuestionsByChapter[classId][chapterId][questionKey];
    if (prevCorrect === undefined) {
      answeredQuestionsByChapter[classId][chapterId][questionKey] = correct;
      if (correct) cumulativeScores[classId][chapterId].correct++;
    } else {
      if (prevCorrect !== correct) {
        answeredQuestionsByChapter[classId][chapterId][questionKey] = correct;
        if (correct) {
          cumulativeScores[classId][chapterId].correct++;
        } else {
          cumulativeScores[classId][chapterId].correct--;
          if (cumulativeScores[classId][chapterId].correct < 0) cumulativeScores[classId][chapterId].correct = 0;
        }
      }
    }
    saveScores();
  }

  function updateChapters() {
    const classSelect = document.getElementById('classSelect');
    const chapterSelect = document.getElementById('chapterSelect');
    const sectionSelect = document.getElementById('sectionSelect');
    chapterSelect.innerHTML = '<option value="">Select Chapter</option>';
    sectionSelect.innerHTML = '<option value="">Select Section</option>';
    sectionSelect.disabled = true;

    if (classSelect.value) {
      chapterSelect.disabled = false;
      chapterData[classSelect.value].forEach(chap => {
        const opt = document.createElement('option');
        opt.value = chap.id;
        opt.textContent = `Chapter ${chap.id}: ${chap.name}`;
        chapterSelect.appendChild(opt);
      });
    } else {
      chapterSelect.disabled = true;
    }
    clearContentAndScore();
  }

  function updateSections() {
    const classSelect = document.getElementById('classSelect');
    const chapterSelect = document.getElementById('chapterSelect');
    const sectionSelect = document.getElementById('sectionSelect');
    sectionSelect.innerHTML = '';

    if (classSelect.value && chapterSelect.value) {
      sectionSelect.disabled = false;
      const c = classSelect.value;
      const ch = chapterSelect.value;

      const chapterSections = questionData[c]?.[ch]?.sections || [];

      chapterSections.forEach(section => {
        let opt = document.createElement('option');
        opt.value = section.id;
        opt.textContent = `${section.id}: ${section.name}`;
        sectionSelect.appendChild(opt);
      });
    } else {
      sectionSelect.disabled = true;
      sectionSelect.innerHTML = '<option value="">Select Section</option>';
    }
    clearContentAndScore();
  }

  function clearContentAndScore() {
    document.getElementById('contentArea').innerHTML = '<div class="no-questions">Please select Class, Chapter, and Section to view questions.</div>';
    updateScoreDisplay();
  }

  function updateScoreDisplay() {
    const classSelect = document.getElementById('classSelect');
    const chapterSelect = document.getElementById('chapterSelect');
    const sectionSelect = document.getElementById('sectionSelect');
    const scoreCard = document.getElementById('scoreCard');

    if (!classSelect.value || !chapterSelect.value || !sectionSelect.value) {
      scoreCard.textContent = 'Section score: x / y';
      return;
    }
    const c = classSelect.value;
    const ch = chapterSelect.value;
    const section = sectionSelect.value;

    let sectionKey = `${c}_${ch}_${section}`;

    let totalSectionQuestions = 0;
    if(questionData[c] && questionData[c][ch] && questionData[c][ch].questions[section]){
      totalSectionQuestions = questionData[c][ch].questions[section].length;
    }
    if(!answeredQuestionsBySection[sectionKey]){
      answeredQuestionsBySection[sectionKey] = {};
    }
    let correctSectionCount = Object.values(answeredQuestionsBySection[sectionKey]).filter(corr=>corr).length;
    if(totalSectionQuestions === 0){
      scoreCard.textContent = 'Section score: x / y';
    } else {
      scoreCard.textContent = `Section score: ${correctSectionCount} / ${totalSectionQuestions}`;
    }
  }

  function showQuestions() {
    const c = document.getElementById('classSelect').value;
    const ch = document.getElementById('chapterSelect').value;
    const section = document.getElementById('sectionSelect').value;
    const contentArea = document.getElementById('contentArea');

    if (!c || !ch || !section) {
      contentArea.innerHTML = '<div class="no-questions">Please select Class, Chapter, and Section to view questions.</div>';
      updateScoreDisplay();
      return;
    }

    const questions = questionData[c]?.[ch]?.questions?.[section] || [];
    if (!questions.length) {
      contentArea.innerHTML = '<div class="question-count">No questions detected.</div>';
      updateScoreDisplay();
      return;
    }

    initScore(c, ch, questions.length);

    let questionCounter = 1;
    const allSections = questionData[c][ch].sections;
    for (let i = 0; i < allSections.length; i++) {
      if (allSections[i].id === section) break;
      const qCountPrevSection = (questionData[c][ch].questions[allSections[i].id]?.length) || 0;
      questionCounter += qCountPrevSection;
    }

    let html = `<div class="question-count">No. of questions found: ${questions.length}</div>`;
    questions.forEach((q, i) => {
      const qNum = questionCounter + i;
      html += `<div class="question-item" id="question-item-${qNum}">
        <div class="question-header">
          <span class="question-number">Q${qNum}.</span>
          <span class="question-year">${q.year}</span>
        </div>
        <div class="question-text">${q.question}</div>
        <div class="options" id="options-${qNum}">
          ${q.options.map((o, idx) => `<div class="option" role="button" tabindex="0" 
            data-qnum="${qNum}" data-index="${idx}">${o}</div>`).join('')}
        </div>
        <div class="button-group">
          <button class="btn btn-answer" onclick="toggleAnswer(${qNum})" aria-expanded="false" aria-controls="answer-${qNum}">Answer</button>
          <button class="btn btn-copy" onclick="copyQuestion(${qNum})">Copy Question</button>
          <button class="btn btn-chatgpt" onclick="openChatGPT(${qNum})">ChatGPT Explain</button>
        </div>
        <div class="answer-reveal" id="answer-${qNum}"><strong>Answer:</strong> ${q.answer}</div>
      </div>`;
    });
    contentArea.innerHTML = html;

    questions.forEach((q, i) => {
      const qNum = questionCounter + i;
      const optionsContainer = document.getElementById(`options-${qNum}`);
      optionsContainer.querySelectorAll('.option').forEach(optionDiv => {
        optionDiv.addEventListener('click', e => handleOptionClick(e, c, ch, section, qNum, q.answer));
        optionDiv.addEventListener('keydown', e => {
          if (e.key === 'Enter' || e.key === ' ') {
            e.preventDefault();
            handleOptionClick(e, c, ch, section, qNum, q.answer);
          }
        });
      });
    });

    updateScoreDisplay();
  }

  function showTickCrossPopup(isCorrect) {
    // Remove any existing popup
    const existingPopup = document.querySelector('.tick-cross-popup');
    if (existingPopup) {
      existingPopup.remove();
    }

    // Create new popup
    const popup = document.createElement('div');
    popup.className = `tick-cross-popup ${isCorrect ? 'correct' : 'incorrect'}`;
    popup.textContent = isCorrect ? '✓' : '✗';
    
    document.body.appendChild(popup);
    
    // Remove popup after animation
    setTimeout(() => {
      if (popup.parentNode) {
        popup.parentNode.removeChild(popup);
      }
    }, 1500);
  }

  function handleOptionClick(event, classId, chapterId, section, qNum, correctAnswer) {
    const selectedOption = event.currentTarget;
    const optionsContainer = selectedOption.parentNode;
    const questionKey = `q${qNum}`;
    const sectionKey = `${classId}_${chapterId}_${section}`;

    if (answeredQuestionsBySection[sectionKey] && answeredQuestionsBySection[sectionKey][questionKey] !== undefined) {
      return;
    }

    optionsContainer.querySelectorAll('.option').forEach(o => {
      o.classList.add('disabled');
      o.style.cursor = 'default';
      o.setAttribute('aria-disabled', 'true');
      o.tabIndex = -1;
    });

    const selectedText = selectedOption.textContent.trim();
    const isCorrect = selectedText === correctAnswer;

    selectedOption.classList.add(isCorrect ? 'correct-temp' : 'incorrect-temp');

    // Show tick/cross popup
    showTickCrossPopup(isCorrect);

    markQuestionAnswered(classId, chapterId, sectionKey, questionKey, isCorrect);
    updateScoreDisplay();
  }

  function toggleAnswer(qNum) {
    const answerDiv = document.getElementById(`answer-${qNum}`);
    const button = document.querySelector(`[aria-controls="answer-${qNum}"]`);
    
    if (answerDiv.style.display === 'block') {
      answerDiv.style.display = 'none';
      button.setAttribute('aria-expanded', 'false');
    } else {
      answerDiv.style.display = 'block';
      button.setAttribute('aria-expanded', 'true');
    }
  }

  function copyQuestion(qNum) {
    const questionText = document.querySelector(`#question-item-${qNum} .question-text`).innerText;
    const options = Array.from(document.querySelectorAll(`#question-item-${qNum} .option`)).map(opt => opt.innerText).join('\n');
    const fullText = questionText + '\n\n' + options;
    
    navigator.clipboard.writeText(fullText).then(() => {
      // Optional: Show a brief "Copied!" message
    });
  }

  function openChatGPT(qNum) {
    const questionText = document.querySelector(`#question-item-${qNum} .question-text`).innerText;
    const options = Array.from(document.querySelectorAll(`#question-item-${qNum} .option`)).map(opt => opt.innerText).join(' ');
    const query = encodeURIComponent(`Explain this NEET biology question: ${questionText} ${options}. Quote exact reference from NCERT textbook biology latest reprint and give explanation based on it.`);
    window.open(`https://chat.openai.com/?q=${query}`, '_blank');
  }

  // Refresh button functionality
  document.getElementById('refreshChapterBtn').addEventListener('click', function() {
    const classSelect = document.getElementById('classSelect');
    if (classSelect.value) {
      resetAllChapterScores(classSelect.value);
      updateScoreDisplay();
      showQuestions();
    }
  });
</script>
<script>
(function() {
  const c = "11";
  const ch = "2";
  const s = "2.0";

  const newQuestions = [
    {year:"PMT/NEET 2004", question:"Which botanist proposed the classification of plants based on their evolutionary relationships?", options:["A) Oswald Tippo","B) Hutchinson","C) Bentham and Hooker","D) Linnaeus"], answer:"B) Hutchinson"},
    {year:"PMT/NEET 2003", question:"Under the five-kingdom classification, archaea and nitrogen-fixing bacteria belong to which kingdom?", options:["A) Protista","B) Monera","C) Plantae","D) Fungi"], answer:"B) Monera"},
    {year:"PMT/NEET 2002", question:"What characteristic is mainly used in the five-kingdom system of classification?", options:["A) Cell wall structure","B) Mode of nutrition","C) Reproduction mechanism","D) DNA arrangement"], answer:"B) Mode of nutrition"},
    {year:"PMT/NEET 2002", question:"The scientific study including classification, naming, and identification is called?", options:["A) Ecology","B) Morphology","C) Taxonomy","D) Physiology"], answer:"C) Taxonomy"},
    {year:"PMT/NEET 2000", question:"In Whittaker’s five-kingdom classification, non-nucleated unicellular organisms are included in?", options:["A) Protista","B) Monera","C) Animalia","D) Plantae"], answer:"B) Monera"},
    {year:"PMT/NEET 1999", question:"Classification considering many characters together is called?", options:["A) Artificial system","B) Natural system","C) Synthetic system","D) Phylogenetic system"], answer:"B) Natural system"},
    {year:"PMT/NEET 1998", question:"The book “Systema Naturae” concerns which subject?", options:["A) Solar system","B) Ecosystem","C) Classification of living organisms","D) Natural selection"], answer:"C) Classification of living organisms"},
    {year:"PMT/NEET 1998", question:"Which classification method arranges organisms based on their evolutionary relationships?", options:["A) Analogous system","B) Phylogenetic system","C) Natural system","D) Homologous system"], answer:"B) Phylogenetic system"},
    {year:"PMT/NEET 1998", question:"Which kingdom contains blue-green algae and methanogenic archaebacteria?", options:["A) Plantae","B) Fungi","C) Monera","D) Protista"], answer:"C) Monera"},
    {year:"PMT/NEET 1996", question:"What is best meant by “taxon”?", options:["A) Species group","B) Family level","C) Organisms group","D) Genus level"], answer:"C) Organisms group"},
    {year:"PMT/NEET 1995", question:"Why is Linnaeus’ plant classification called artificial?", options:["A) Only morphological characters considered","B) Physiological characters used","C) Breeding habits considered","D) Gene sequences used"], answer:"A) Only morphological characters considered"},
    {year:"PMT/NEET 1994", question:"The term “phylum” was introduced by?", options:["A) John Ray","B) E. Haeckel","C) Carolus Linnaeus","D) G.L. Cuvier"], answer:"D) G.L. Cuvier"},
    {year:"PMT/NEET 1994", question:"Who proposed the four-kingdom classification system?", options:["A) Copeland","B) Whittaker","C) Linnaeus","D) Haeckel"], answer:"A) Copeland"},
    {year:"PMT/NEET 1993", question:"Who authored “Systema Naturae”?", options:["A) Cuvier","B) Lamarck","C) Linnaeus","D) Aristotle"], answer:"C) Linnaeus"},
    {year:"PMT/NEET 1992", question:"Aristotle classified animals into which groups?", options:["A) Protozoa and Metazoa","B) Vertebrates and Invertebrates","C) Chordata and Non-chordata","D) Enaima and Anaima"], answer:"D) Enaima and Anaima"},
    {year:"PMT/NEET 1990", question:"Which scientist made significant contributions to classification?", options:["A) Pasteur","B) Linnaeus","C) Darwin","D) Oparin"], answer:"B) Linnaeus"},
  ];

  if (!window.questionData) window.questionData = {};
  if (!questionData[c]) questionData[c] = {};
  if (!questionData[c][ch]) questionData[c][ch] = { title: "Biological Classification", sections: [], questions: {} };
  if (!questionData[c][ch].questions) questionData[c][ch].questions = {};
  if (!questionData[c][ch].questions[s]) questionData[c][ch].questions[s] = [];

  questionData[c][ch].questions[s] = questionData[c][ch].questions[s].concat(newQuestions);

})();
</script>

<script>
(function() {
  const c = "11";
  const ch = "2";
  const section = "2.1";

  const items = [
    // Q17
    {
      year: "NEET/AIPMT 2019",
      question: "Match Column I (groups) with Column II (typical habitats) and choose the correct option:<br><br>Column I: 1. Halophiles &nbsp; 2. Thermoacidophiles &nbsp; 3. Methanogens &nbsp; 4. Cyanobacteria<br>Column II: A. Saline lakes &nbsp; B. Hot springs &nbsp; C. Rumen of ruminants &nbsp; D. Sunlit aquatic waters",
      options: [
        "a) 1–A, 2–B, 3–C, 4–D",
        "b) 1–B, 2–A, 3–D, 4–C",
        "c) 1–C, 2–D, 3–B, 4–A",
        "d) 1–D, 2–C, 3–A, 4–B"
      ],
      answer: "a) 1–A, 2–B, 3–C, 4–D"
    },
    // Q18
    {
      year: "NEET/AIPMT 2017",
      question: "Identify the smallest wall‑less cells, often pathogenic and able to survive anaerobically.",
      options: [
        "a) Pseudomonas",
        "b) Mycoplasma",
        "c) Nostoc",
        "d) Bacillus"
      ],
      answer: "b) Mycoplasma"
    },
    // Q19
    {
      year: "NEET/AIPMT 2017",
      question: "Which structure confers a sticky surface to many bacterial cells?",
      options: [
        "a) Nuclear membrane",
        "b) Plasma membrane",
        "c) Glycocalyx",
        "d) Cell wall"
      ],
      answer: "c) Glycocalyx"
    },
    // Q20
    {
      year: "NEET/AIPMT 2017",
      question: "In bacteria, DNA replication occurs at which point in the division cycle?",
      options: [
        "a) Inside a nucleus",
        "b) Prior to binary fission",
        "c) Just before transcription",
        "d) During S phase"
      ],
      answer: "b) Prior to binary fission"
    },
    // Q21
    {
      year: "NEET/AIPMT 2016",
      question: "Methanogens are classified under which group?",
      options: [
        "a) Eubacteria",
        "b) Archaebacteria",
        "c) Dinoflagellates",
        "d) Slime moulds"
      ],
      answer: "b) Archaebacteria"
    },
    // Q22
    {
      year: "NEET/AIPMT 2014",
      question: "Pigment‑containing membranous extensions in some cyanobacteria are termed:",
      options: [
        "a) Pneumatophores",
        "b) Chromatophores",
        "c) Heterocysts",
        "d) Basal bodies"
      ],
      answer: "b) Chromatophores"
    },
    // Q23
    {
      year: "NEET/AIPMT 2013",
      question: "Archaea and eubacteria primarily differ in which cellular feature?",
      options: [
        "a) Cell membrane structure",
        "b) Mode of nutrition",
        "c) Cell shape",
        "d) Mode of reproduction"
      ],
      answer: "a) Cell membrane structure"
    },
    // Q24
    {
      year: "NEET/AIPMT 2013",
      question: "Which group is most likely to inhabit deep sea waters?",
      options: [
        "a) Blue‑green algae",
        "b) Saprophytic fungi",
        "c) Archaebacteria",
        "d) Eubacteria"
      ],
      answer: "c) Archaebacteria"
    },
    // Q25
    {
      year: "NEET/AIPMT 2012",
      question: "The most abundant prokaryotes involved in curd formation and antibiotic production are:",
      options: [
        "a) Cyanobacteria",
        "b) Archaebacteria",
        "c) Chemosynthetic autotrophs",
        "d) Heterotrophic bacteria"
      ],
      answer: "d) Heterotrophic bacteria"
    },
    // Q26
    {
      year: "NEET/AIPMT 2012",
      question: "Cyanobacteria are commonly referred to as:",
      options: [
        "a) Protists",
        "b) Golden algae",
        "c) Slime moulds",
        "d) Blue‑green algae"
      ],
      answer: "d) Blue‑green algae"
    },
    // Q27
    {
      year: "NEET/AIPMT 2011",
      question: "Which component of eubacteria most closely resembles that of eukaryotes?",
      options: [
        "a) Plasma membrane",
        "b) Nucleus",
        "c) Ribosomes",
        "d) Cell wall"
      ],
      answer: "a) Plasma membrane"
    },
    // Q28
    {
      year: "NEET/AIPMT 2010",
      question: "Some hyperthermophiles thriving in highly acidic habitats belong to:",
      options: [
        "a) Eubacteria and Archaea",
        "b) Cyanobacteria and diatoms",
        "c) Protists and mosses",
        "d) Liverworts and yeasts"
      ],
      answer: "a) Eubacteria and Archaea"
    },
    // Q29
    {
      year: "NEET/AIPMT 2008",
      question: "In the three‑domain scheme, archaea are best described by which statement?",
      options: [
        "a) Entirely distinct from both prokaryotes and eukaryotes",
        "b) Totally different from prokaryotes",
        "c) Identical to eukarya in all respects",
        "d) Possess novel features not found in other domains"
      ],
      answer: "d) Possess novel features not found in other domains"
    },
    // Q30
    {
      year: "NEET/AIPMT 2008",
      question: "Thermococcus, Methanococcus and Methanobacterium exemplify:",
      options: [
        "a) Bacteria with cytoskeleton and mitochondria",
        "b) Bacteria with cytoskeleton and ribosomes",
        "c) Archaea with proteins homologous to eukaryotic core histones",
        "d) Archaea lacking histones with negatively supercoiled DNA"
      ],
      answer: "c) Archaea with proteins homologous to eukaryotic core histones"
    },
    // Q31
    {
      year: "NEET/AIPMT 2008",
      question: "Bacterial leaf blight of rice is caused by:",
      options: [
        "a) Alternaria",
        "b) Erwinia",
        "c) Xanthomonas",
        "d) Pseudomonas"
      ],
      answer: "c) Xanthomonas"
    },
    // Q32
    {
      year: "NEET/AIPMT 2006",
      question: "Curing (fermentation) of tea leaves is mainly due to:",
      options: [
        "a) Fungi",
        "b) Bacteria",
        "c) Mycorrhiza",
        "d) Viruses"
      ],
      answer: "b) Bacteria"
    },
    // Q33
    {
      year: "NEET/AIPMT 2005",
      question: "In retting of jute, the fermenting microbes used are:",
      options: [
        "a) Methanophilic bacteria",
        "b) Butyric acid bacteria",
        "c) Helicobacter pylori",
        "d) Streptococcus lactis"
      ],
      answer: "b) Butyric acid bacteria"
    },
    // Q34
    {
      year: "NEET/AIPMT 2002",
      question: "Bacterial transduction is best described as:",
      options: [
        "a) Gene transfer via bacteriophage from one bacterium to another",
        "b) Gene transfer by conjugation",
        "c) DNA inherited directly from the mother cell",
        "d) Uptake of DNA from the surroundings"
      ],
      answer: "a) Gene transfer via bacteriophage from one bacterium to another"
    },
    // Q35
    {
      year: "NEET/AIPMT 2001",
      question: "Which statement is true for archaebacteria?",
      options: [
        "a) All are halophiles",
        "b) All are photosynthetic",
        "c) All are fossils",
        "d) They are among the oldest living forms"
      ],
      answer: "d) They are among the oldest living forms"
    },
    // Q36
    {
      year: "NEET/AIPMT 2001/1997/1994",
      question: "The fundamental difference between Gram‑positive and Gram‑negative bacteria lies in the:",
      options: [
        "a) Cell wall",
        "b) Cell membrane",
        "c) Cytoplasm",
        "d) Ribosomes"
      ],
      answer: "a) Cell wall"
    },
    // Q37
    {
      year: "NEET/AIPMT 1995/1998",
      question: "Antibiotic resistance genes in bacteria are typically located on:",
      options: [
        "a) Chromosome",
        "b) Nucleus",
        "c) Cell wall",
        "d) Plasmid"
      ],
      answer: "d) Plasmid"
    },
    // Q38
    {
      year: "NEET/AIPMT 1998",
      question: "During transduction, gene transfer occurs via:",
      options: [
        "a) Bacteriophages released from the donor strain",
        "b) A bacterium with a special conjugation tube",
        "c) Direct physical contact between strains",
        "d) Conjugation between opposite strains"
      ],
      answer: "a) Bacteriophages released from the donor strain"
    },
    // Q39
    {
      year: "NEET/AIPMT 1998",
      question: "Which bacterium has been genetically improved for pollution control?",
      options: [
        "a) Pseudomonas",
        "b) Rhizobium",
        "c) Nitrobacter",
        "d) Nitrosomonas"
      ],
      answer: "a) Pseudomonas"
    },
    // Q40
    {
      year: "NEET/AIPMT 1998",
      question: "A few organisms growing at 100–105°C most likely belong to:",
      options: [
        "a) Thermophilic subaerial fungi",
        "b) Marine archaebacteria",
        "c) Thermophilic sulphur bacteria",
        "d) Hot‑spring cyanobacteria"
      ],
      answer: "b) Marine archaebacteria"
    },
    // Q41
    {
      year: "NEET/AIPMT 1998",
      question: "Which organisms can utilize molecular nitrogen (N₂) directly as a nutrient for growth?",
      options: [
        "a) Rhizobium",
        "b) Spirogyra",
        "c) Mucor",
        "d) Methanococcus"
      ],
      answer: "d) Methanococcus"
    },
    // Q42
    {
      year: "NEET/AIPMT 1999",
      question: "Cells of Streptococcus are commonly arranged in:",
      options: [
        "a) Chains",
        "b) Irregular clusters",
        "c) Cubes",
        "d) Plates"
      ],
      answer: "a) Chains"
    },
    // Q43
    {
      year: "NEET/AIPMT 1998",
      question: "The chief role of bacteria in the carbon cycle is:",
      options: [
        "a) Chemosynthesis",
        "b) Decomposition of organic compounds",
        "c) Photosynthesis",
        "d) Nitrogen assimilation"
      ],
      answer: "b) Decomposition of organic compounds"
    },
    // Q44
    {
      year: "NEET/AIPMT 1998",
      question: "The DNA of E. coli is typically:",
      options: [
        "a) Double‑stranded and linear",
        "b) Double‑stranded and circular",
        "c) Single‑stranded and linear",
        "d) Single‑stranded and circular"
      ],
      answer: "b) Double‑stranded and circular"
    },
    // Q45
    {
      year: "NEET/AIPMT 1998",
      question: "A bacterium divides every 35 min; starting from 10×10^5 cells/mL, the count after 175 min will be:",
      options: [
        "a) 35×10^5",
        "b) 32×10^5",
        "c) 175×10^5",
        "d) 85×10^5"
      ],
      answer: "b) 32×10^5"
    },
    // Q46
    {
      year: "NEET/AIPMT 1997",
      question: "Organisms lacking a definite shape are:",
      options: [
        "a) Mycoplasmas",
        "b) Bacteria",
        "c) Viruses",
        "d) Cyanobacteria"
      ],
      answer: "a) Mycoplasmas"
    },
    // Q47
    {
      year: "NEET/AIPMT 1997",
      question: "The hereditary material in E. coli is:",
      options: [
        "a) Single‑stranded DNA",
        "b) Double‑stranded DNA",
        "c) DNA (unspecified)",
        "d) RNA"
      ],
      answer: "b) Double‑stranded DNA"
    },
    // Q48
    {
      year: "NEET/AIPMT 1996",
      question: "E. coli is widely used in labs mainly because it is:",
      options: [
        "a) Easy to culture",
        "b) Easily available",
        "c) Easy to handle",
        "d) Multiplies rapidly in host"
      ],
      answer: "a) Easy to culture"
    },
    // Q49
    {
      year: "NEET/AIPMT 1996",
      question: "What acts as the ‘sex organ’ during gene transfer in bacteria?",
      options: [
        "a) Sex pili",
        "b) Plasmid",
        "c) Circular DNA",
        "d) Gametes"
      ],
      answer: "a) Sex pili"
    },
    // Q50
    {
      year: "NEET/AIPMT 1996",
      question: "Bacterial DNA is of which type?",
      options: [
        "a) Circular, free DNA",
        "b) Membrane‑bound DNA",
        "c) Straight DNA",
        "d) Helical DNA"
      ],
      answer: "a) Circular, free DNA"
    },
    // Q51
    {
      year: "NEET/AIPMT 1995",
      question: "Mycoplasma differ from viruses in being sensitive to:",
      options: [
        "a) Tetracycline",
        "b) Protein",
        "c) Amino acid",
        "d) Devaine"
      ],
      answer: "a) Tetracycline"
    },
    // Q52
    {
      year: "NEET/AIPMT 1994",
      question: "Many blue‑green algae in hot springs tolerate high temperature mainly due to their:",
      options: [
        "a) Mitochondrial inheritance",
        "b) Homopolar bonds in proteins",
        "c) Cell wall structure",
        "d) Modern cell organization"
      ],
      answer: "c) Cell wall structure"
    },
    // Q53
    {
      year: "NEET/AIPMT 1994",
      question: "Bacterial transduction is mediated by:",
      options: [
        "a) Plasmid vectors",
        "b) Phage vectors",
        "c) Cosmids",
        "d) F‑factors"
      ],
      answer: "b) Phage vectors"
    },
    // Q54
    {
      year: "NEET/AIPMT 1994/1997/2000",
      question: "In Gram staining, the chief difference between Gram‑positive and Gram‑negative bacteria lies in the:",
      options: [
        "a) Cell wall",
        "b) Cell membrane",
        "c) Ribosomes",
        "d) Cytoplasm"
      ],
      answer: "a) Cell wall"
    },
    // Q55
    {
      year: "NEET/AIPMT 1993",
      question: "The bacterial nucleoid (genophore) is composed of:",
      options: [
        "a) Histones and non‑histones",
        "b) RNA and histones",
        "c) A single double‑stranded DNA",
        "d) A single‑stranded DNA"
      ],
      answer: "c) A single double‑stranded DNA"
    },
    // Q56
    {
      year: "NEET/AIPMT 1991",
      question: "Which organisms do not derive energy directly or indirectly from sunlight?",
      options: [
        "a) Chemosynthetic bacteria",
        "b) Pathogenic bacteria",
        "c) Symbionts",
        "d) Moulds"
      ],
      answer: "a) Chemosynthetic bacteria"
    },
    // Q57
    {
      year: "NEET/AIPMT 1990",
      question: "Which of the following belongs to Monera?",
      options: [
        "a) Amoeba",
        "b) Escherichia",
        "c) Gelidium",
        "d) Spirogyra"
      ],
      answer: "b) Escherichia"
    },
    // Q58
    {
      year: "NEET/AIPMT 1990",
      question: "The principal difference between Gram‑positive and Gram‑negative bacteria is associated with the:",
      options: [
        "a) Cell wall",
        "b) Cell membrane",
        "c) Cytoplasm",
        "d) Flagella"
      ],
      answer: "a) Cell wall"
    },
    // Q59
    {
      year: "NEET/AIPMT 2005",
      question: "With reference to Frankia (an actinomycete), select the incorrect statement.",
      options: [
        "a) Can induce root nodules on many plants",
        "b) Fixes nitrogen only in symbiosis, not when free‑living",
        "c) Forms specialized vesicles protecting nitrogenase",
        "d) Infects roots via hair deformation similar to Rhizobium"
      ],
      answer: "b) Fixes nitrogen only in symbiosis, not when free‑living"
    },
    // Q60
    {
      year: "NEET/AIPMT 2008",
      question: "Primitive prokaryotes present in the rumen of cattle that produce biogas belong to:",
      options: [
        "a) Methanogens",
        "b) Eubacteria",
        "c) Halophiles",
        "d) Thermoacidophiles"
      ],
      answer: "a) Methanogens"
    }
  ];

  if (!window.questionData) return;
  if (!questionData[c] || !questionData[c][ch]) return;
  if (!questionData[c][ch].questions) questionData[c][ch].questions = {};

  // Replace entire section with labeled questions
  questionData[c][ch].questions[section] = items;
})();
</script>

<script>
// Fix for per-section refresh - replaces existing refresh functionality
document.addEventListener('DOMContentLoaded', function() {
  const refreshBtn = document.getElementById('refreshChapterBtn');
  
  if (refreshBtn) {
    // Remove existing event listeners by cloning the button
    const newBtn = refreshBtn.cloneNode(true);
    refreshBtn.parentNode.replaceChild(newBtn, refreshBtn);
    
    // Add new event listener for section-only refresh
    newBtn.addEventListener('click', function() {
      const classSelect = document.getElementById('classSelect');
      const chapterSelect = document.getElementById('chapterSelect');
      const sectionSelect = document.getElementById('sectionSelect');
      
      const c = classSelect?.value;
      const ch = chapterSelect?.value;
      const sec = sectionSelect?.value;
      
      if (!c || !ch || !sec) return;
      
      // Create section key
      const sectionKey = `${c}_${ch}_${sec}`;
      
      // Get questions in current section that were answered
      if (answeredQuestionsBySection[sectionKey]) {
        const sectionAnswers = answeredQuestionsBySection[sectionKey];
        
        // For each answered question in this section, adjust chapter score
        Object.keys(sectionAnswers).forEach(questionKey => {
          const wasCorrect = sectionAnswers[questionKey];
          
          // Remove from chapter tracking
          if (answeredQuestionsByChapter[c] && answeredQuestionsByChapter[c][ch]) {
            delete answeredQuestionsByChapter[c][ch][questionKey];
          }
          
          // Adjust chapter correct count
          if (wasCorrect && cumulativeScores[c] && cumulativeScores[c][ch]) {
            cumulativeScores[c][ch].correct = Math.max(0, cumulativeScores[c][ch].correct - 1);
          }
        });
        
        // Clear only this section
        delete answeredQuestionsBySection[sectionKey];
      }
      
      // Save the changes
      saveScores();
      
      // Reset UI for current questions
      document.querySelectorAll('.option').forEach(opt => {
        opt.classList.remove('correct-temp', 'incorrect-temp', 'disabled');
        const popup = opt.querySelector('.answer-popup');
        if (popup) popup.remove();
      });
      
      document.querySelectorAll('.answer-reveal').forEach(reveal => {
        reveal.style.display = 'none';
      });
      
      // Update score display
      updateScoreDisplay();
    });
  }
});
</script>

<script>
// Auto-display first section when chapter is selected
document.addEventListener('DOMContentLoaded', function() {
  const chapterSelect = document.getElementById('chapterSelect');
  
  if (chapterSelect) {
    // Override the existing updateSections function to auto-select first section
    const originalUpdateSections = window.updateSections;
    
    window.updateSections = function() {
      // Call original function first
      if (originalUpdateSections) {
        originalUpdateSections();
      }
      
      const classSelect = document.getElementById('classSelect');
      const sectionSelect = document.getElementById('sectionSelect');
      
      if (classSelect.value && chapterSelect.value && sectionSelect) {
        // Auto-select first section if available
        if (sectionSelect.options.length > 0) {
          sectionSelect.selectedIndex = 0;
          sectionSelect.value = sectionSelect.options[0].value;
          
          // Automatically show questions for first section
          setTimeout(() => {
            if (typeof showQuestions === 'function') {
              showQuestions();
            }
          }, 100);
        }
      }
    };
    
    // Also add direct event listener as backup
    chapterSelect.addEventListener('change', function() {
      setTimeout(() => {
        const sectionSelect = document.getElementById('sectionSelect');
        if (sectionSelect && sectionSelect.options.length > 0 && !sectionSelect.value) {
          sectionSelect.selectedIndex = 0;
          sectionSelect.value = sectionSelect.options[0].value;
          
          if (typeof showQuestions === 'function') {
            showQuestions();
          }
        }
      }, 200);
    });
  }
});
</script>
</body>
</html>
