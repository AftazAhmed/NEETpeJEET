<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>NEET/AIPMT Biology Page Wise</title>
<style>
  body { font-family: Arial, sans-serif; margin:0; padding:16px; background:#f6f7fa; }
  .header { text-align:center; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color:#fff; padding:28px 10px 16px 10px; border-radius:9px; margin-bottom:22px;}
  .controls { display:flex; gap:14px; flex-wrap:wrap; margin-bottom:30px;}
  .dropdown-group { min-width:170px; flex:1;}
  label { font-weight:bold; font-size:15px; margin-bottom:5px; display:block;}
  select { width:100%; padding:9px 10px; border-radius:5px; border:2px solid #dee7ff; font-size:15px; background:#fff;}
  select:focus { border-color:#667eea; outline:none;}
  .content-area { background:#fff; min-height:300px; box-shadow:0 2px 10px rgba(0,0,0,0.06); border-radius:9px; padding:22px 16px; overflow-y:auto; max-height:70vh;}
  .question-count { font-size:17px; font-weight:bold; color:#333; background:#e2f1fd; border-left:4px solid #2196F3; padding:9px 12px; margin-bottom:16px;}
  .question-item { border:1px solid #c8d4fd; border-radius:8px; margin-bottom:20px; padding:18px 18px 14px 18px; background:#f2f7ff;}
  .question-header { display:flex; justify-content:space-between; align-items:center; margin-bottom:10px;}
  .question-number { font-weight:bold; font-size:18px; color:#34495e;}
  .question-year { font-size:13px; color:#7f8c8d;}
  .question-text { font-size:16px; margin-bottom:12px; color:#2c3e50;}
  .options { margin-bottom:10px;}
  .option { margin:7px 0; padding:9px 13px; background:#dbe9ff; border-radius:5px; font-size:15px;}
  .button-group { display:flex; gap:10px; flex-wrap:wrap; margin-bottom:5px;}
  .btn { padding:8px 14px; border:none; border-radius:5px; cursor:pointer; font-size:14px; transition:all 0.3s;}
  .btn-answer { background:#4caf50; color:#fff;}
  .btn-answer:hover { background:#388e3c;}
  .btn-copy { background:#2196F3; color:#fff;}
  .btn-copy:hover { background:#1976D2;}
  .btn-chatgpt { background:#FF5722; color:#fff;}
  .btn-chatgpt:hover { background:#e64a19;}
  .answer-reveal { display:none; margin-top:10px; background:#e8f5e9; border:1px solid #c8e6c9; border-radius:5px; color:#2e7d32; padding:12px; font-weight:600;}
  .no-questions { text-align:center; color:#aab7c4; font-style:italic; padding:60px 12px; font-size:16px;}
  @media (max-width:900px) {
    .controls { flex-direction: column; }
    .dropdown-group { min-width: 100%; }
  }
</style>
</head>
<body>

<div class="header">
  <h2>NEET/AIPMT Biology Page Wise</h2>
  <div style="font-size:13px;">All Previous Year Questions by Chapter & Section/Page (NCERT 2025-26)</div>
</div>

<div class="controls">
  <div class="dropdown-group">
    <label for="classSelect">Class:</label>
    <select id="classSelect" onchange="updateChapters()">
      <option value="">Select Class</option>
      <option value="11">Class 11</option>
      <option value="12">Class 12</option>
    </select>
  </div>
  <div class="dropdown-group">
    <label for="chapterSelect">Chapter:</label>
    <select id="chapterSelect" onchange="updateSections()" disabled>
      <option value="">Select Chapter</option>
    </select>
  </div>
  <div class="dropdown-group">
    <label for="sectionSelect">Section / Page:</label>
    <select id="sectionSelect" onchange="showQuestions()" disabled>
      <option value="">Select Section / Page</option>
    </select>
  </div>
</div>

<div class="content-area" id="contentArea">
  <div class="no-questions">Please select Class, Chapter, and Section/Page to view questions.</div>
</div>

<script>
const sectionData = {
  "11": {
    "2": [
      {id:"2-0", name:"2.0 Evolution of Classification (Pg 10-12)"},
      {id:"2-1", name:"2.1 KINGDOM MONERA (Pg 12-16)"},
      {id:"2-2", name:"2.1.1 Archaebacteria (Pg 13)"},
      {id:"2-3", name:"2.1.2 Eubacteria (Pg 13-16)"},
      {id:"2-4", name:"2.2 KINGDOM PROTISTA (Pg 14-16)"},
      {id:"2-5", name:"2.2.1 Chrysophytes (Pg 14)"},
      {id:"2-6", name:"2.2.2 Dinoflagellates (Pg 15)"},
      {id:"2-7", name:"2.2.3 Euglenoids (Pg 15)"},
      {id:"2-8", name:"2.2.4 Slime Moulds (Pg 15)"},
      {id:"2-9", name:"2.2.5 Protozoans (Pg 15-16)"},
      {id:"2-10",name:"2.3 KINGDOM FUNGI (Pg 16-19)"},
      {id:"2-11",name:"2.3.1 Phycomycetes (Pg 17)"},
      {id:"2-12",name:"2.3.2 Ascomycetes (Pg 17)"},
      {id:"2-13",name:"2.3.3 Basidiomycetes (Pg 18)"},
      {id:"2-14",name:"2.3.4 Deuteromycetes (Pg 18)"},
      {id:"2-15",name:"2.4 KINGDOM PLANTAE (Pg 19)"},
      {id:"2-16",name:"2.5 KINGDOM ANIMALIA (Pg 19)"},
      {id:"2-17",name:"2.6 Viruses, Viroids, Prions, Lichens (Pg 19-21)"}
    ]
  }
};

const questionData = {
  "11": {
    "2": {
      "2-0": [ 
        // Place example question obj for 2-0 here from previous data, for brevity omitted.  
      ],
      "2-1": [
        // Place example question obj for 2-1 here from previous data, for brevity omitted.
      ],
      "2-2": [
        // Example for archaebacteria replaced with ...
      ],
      "2-17": [
        {
          year: "1994",
          question: "Tobacco mosaic virus (TMV) is characterized by what type of genetic material?",
          options: ["(a) Single stranded RNA", "(b) Double stranded DNA", "(c) Proteinaceous", "(d) Double stranded RNA"],
          answer: "(a) Single stranded RNA"
        },
        {
          year: "1996",
          question: "What is the genetic material of the influenza virus?",
          options: ["(a) DNA", "(b) RNA", "(c) Single stranded DNA", "(d) None of these"],
          answer: "(b) RNA"
        },
        // More questions here as injected in earlier steps...
      ]
    }
  }
};

// Initialize dropdowns
function updateChapters() {
  const classSelect = document.getElementById('classSelect');
  const chapterSelect = document.getElementById('chapterSelect');
  const sectionSelect = document.getElementById('sectionSelect');
  chapterSelect.innerHTML = '<option value="">Select Chapter</option>';
  sectionSelect.innerHTML = '<option value="">Select Section / Page</option>';
  sectionSelect.disabled = true;
  if(classSelect.value){
    chapterSelect.disabled = false;
    Object.keys(sectionData[classSelect.value]).forEach(chapId => {
      const opt = document.createElement('option');
      opt.value = chapId;
      opt.textContent = `Chapter ${chapId}: ${sectionData[classSelect.value][chapId][0] ? sectionData[classSelect.value][chapId][0].name.split(' ')[1] : ''}`;
      chapterSelect.appendChild(opt);
    });
  }else{
    chapterSelect.disabled = true;
  }
  document.getElementById('contentArea').innerHTML = '<div class="no-questions">Please select Class, Chapter, and Section/Page to view questions.</div>';
}

function updateSections(){
  const classSelect = document.getElementById('classSelect');
  const chapterSelect = document.getElementById('chapterSelect');
  const sectionSelect = document.getElementById('sectionSelect');
  sectionSelect.innerHTML = '<option value="">Select Section / Page</option>';
  sectionSelect.disabled = true;
  if(classSelect.value && chapterSelect.value){
    const sections = sectionData[classSelect.value][chapterSelect.value];
    if(sections && sections.length){
      sectionSelect.disabled = false;
      sections.forEach(sec => {
        let opt = document.createElement('option');
        opt.value = sec.id;
        opt.textContent = sec.name;
        sectionSelect.appendChild(opt);
      });
    }
  }
  document.getElementById('contentArea').innerHTML = '<div class="no-questions">Please select Class, Chapter, and Section/Page to view questions.</div>';
}

function showQuestions(){
  const classVal = document.getElementById('classSelect').value;
  const chapterVal = document.getElementById('chapterSelect').value;
  const sectionVal = document.getElementById('sectionSelect').value;
  const contentArea = document.getElementById('contentArea');
  if(!classVal || !chapterVal || !sectionVal){
    contentArea.innerHTML = '<div class="no-questions">Please select Class, Chapter, and Section/Page to view questions.</div>';
    return;
  }
  const chapter = questionData[classVal][chapterVal];
  if(!chapter){
    contentArea.innerHTML = '<div class="no-questions">No questions available for selected chapter.</div>';
    return;
  }
  const questions = chapter[sectionVal];
  if(!questions || questions.length===0){
    contentArea.innerHTML = '<div class="no-questions">0 questions detected.</div>';
    return;
  }
  let html = `<div class="question-count">No. of questions: ${questions.length}</div>`;
  questions.forEach((q,i) => {
    html += `<div class="question-item">
      <div class="question-header">
        <div class="question-number">Q${i+1} (${q.year})</div>
        <div class="question-year"></div>
      </div>
      <div class="question-text">${q.question}</div>
      <div class="options">${q.options.map(o=>`<div class="option">${o}</div>`).join('')}</div>
      <div class="button-group">
        <button class="btn btn-answer" onclick="toggleAnswer(${i})">Show/Hide Answer</button>
        <button class="btn btn-copy" onclick="copyQuestion(${i})">Copy Question</button>
        <button class="btn btn-chatgpt" onclick="openChatGPT(${i})">Ask ChatGPT</button>
      </div>
      <div class="answer-reveal" id="answer-${i}">Answer: ${q.answer}</div>
    </div>`;
  });
  contentArea.innerHTML = html;
}

function toggleAnswer(i){
  const el = document.getElementById(`answer-${i}`);
  if(el.style.display === 'block'){
    el.style.display = 'none';
  } else {
    el.style.display = 'block';
  }
}

function copyQuestion(i){
  const classVal = document.getElementById('classSelect').value;
  const chapterVal = document.getElementById('chapterSelect').value;
  const sectionVal = document.getElementById('sectionSelect').value;
  const question = questionData[classVal][chapterVal][sectionVal][i];
  const text = question.year + "\n" + question.question + "\n" + question.options.join('\n');
  navigator.clipboard.writeText(text).then(()=>{
    alert('Question copied to clipboard!');
  },()=>{alert('Failed to copy!');});
}

function openChatGPT(i){
  const classVal = document.getElementById('classSelect').value;
  const chapterVal = document.getElementById('chapterSelect').value;
  const sectionVal = document.getElementById('sectionSelect').value;
  const question = questionData[classVal][chapterVal][sectionVal][i];
  const prompt = `Please explain this NEET biology question in detail:\n\n${question.year}\n${question.question}\nOptions:\n${question.options.join('\n')}\nAnswer: ${question.answer}`;
  const url = `https://chat.openai.com/?q=${encodeURIComponent(prompt)}`;
  window.open(url, '_blank');
}

document.addEventListener('DOMContentLoaded', () => {
  updateChapters();
});

// Add-on example for future chapters:
/*
questionData["11"]["3"] = {
  "3-0": [
    {
      year: "NEET 2020",
      question: "Sample question for chapter 3 section 0?",
      options: ["a","b","c","d"],
      answer: "a"
    }
  ]
};
*/
